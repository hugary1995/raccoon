<!DOCTYPE html><head><meta charset="UTF-8"><title>Isogeometric Analysis in MOOSE | RACCOON</title><link rel="icon" type="image/x-icon" href="../../../media/raccoon_icon.png" sizes="16x16 32x32 64x64 128x128"></link><link href="../../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../../css/devel_moose.css" type="text/css" rel="stylesheet"></link><link href="../../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><link href="../../../css/civet_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../../contrib/jquery/jquery.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="../../../index.html" class="left moose-logo hide-on-med-and-down" id="home-button">RACCOON</a><a href="https://github.com/hugary1995/raccoon" class="right"><img src="../../../media/framework/github-logo.png" alt="GitHub wordmark" class="github-mark"></img><img src="../../../media/framework/github-mark.png" alt="GitHub logo" class="github-logo"></img></a><ul class="right hide-on-med-and-down"><li><a href="#!" class="dropdown-trigger" data-target="fafe43ac-3dbd-4012-b029-14a2dae1e2da" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="0a2ca26a-0b59-4045-9de3-c329f9776519" data-constrainWidth="false">Tutorials<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="06839330-5561-447d-9951-7034480a1d94" data-constrainWidth="false">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="bd625314-3e33-4c64-afed-f3cfabad89dc" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../../contribute/index.html">Contribute</a></li></ul><a href="#" class="sidenav-trigger" data-target="6e7a2bc8-cd5e-4e8c-956c-0d004c03af0a"><i class="material-icons">menu</i></a><ul class="sidenav" id="6e7a2bc8-cd5e-4e8c-956c-0d004c03af0a"><li><a href="#!" class="dropdown-trigger" data-target="d1ea1884-4cff-425d-93bf-1c54076c7276" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="932abbb8-ef2f-4405-bdca-086186d65b43" data-constrainWidth="false">Tutorials<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="2b763c90-dafc-4611-9627-96c245831055" data-constrainWidth="false">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="a14cfc53-17d7-4d6b-8bfa-c490f895e9f2" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../../contribute/index.html">Contribute</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div><ul class="dropdown-content" id="fafe43ac-3dbd-4012-b029-14a2dae1e2da"><li><a href="../../../getting_started/install.html">Install RACCOON</a></li><li><a href="../../../getting_started/update.html">Update RACCOON</a></li><li><a href="../../../getting_started/running.html">Running your first model</a></li><li><a href="../../../getting_started/paraview.html">Visualization</a></li><li><a href="../../../getting_started/ide.html">Code development</a></li><li><a href="../../../getting_started/docs.html">Browse the documentation locally</a></li></ul><ul class="dropdown-content" id="0a2ca26a-0b59-4045-9de3-c329f9776519"><li><a href="../../../tutorials/01_small_deformation_elasticity.html">1. Small deformation</a></li><li><a href="../../../tutorials/02_mode1_brittle_fracture.html">2. Mode-I fracture</a></li><li><a href="../../../tutorials/03_mode2_brittle_fracture.html">3. Mode-II fracture</a></li><li><a href="../../../tutorials/04_fiber_reinforced_matrix.html">4. Fiber-reinforced matrix</a></li><li><a href="../../../tutorials/05_soil_desiccation.html">5. Soil desiccation</a></li><li><a href="../../../tutorials/06_large_deformation_elasticity.html">6. Large deformation</a></li><li><a href="../../../tutorials/07_elastoplasticity.html">7. Elastoplasticity</a></li><li><a href="../../../tutorials/08_ductile_fracture.html">8. Ductile fracture</a></li><li><a href="../../../tutorials/09_three_point_bending.html">9. Three-point bending</a></li><li><a href="../../../tutorials/10_quenching_bibeam.html">10. Quenching of bi-beam</a></li><li><a href="../../../tutorials/11_adaptivity.html">11. Adaptive mesh refinement</a></li><li><a href="../../../tutorials/12_nucleation.html">12. Crack nucleation</a></li><li><a href="../../../tutorials/13_traction_separation.html">13. Traction separation law</a></li><li><a href="../../../tutorials/14_klexpansion.html">14. Random field generation</a></li><li><a href="../../../tutorials/15_mosaic_patches.html">15. Mosaic field generation</a></li></ul><ul class="dropdown-content" id="06839330-5561-447d-9951-7034480a1d94"><li><a href="../../../theory/intro.html">Introduction</a></li><li><a href="../../../theory/kinematics.html">State variables and kinematics</a></li><li><a href="../../../theory/thermodynamics.html">Thermodynamics</a></li><li><a href="../../../theory/minimization.html">The minimization problem</a></li><li><a href="../../../theory/constitutive_models.html">Constitutive Models</a></li></ul><ul class="dropdown-content" id="bd625314-3e33-4c64-afed-f3cfabad89dc"><li><a href="../../index.html">Physics modules</a></li><li><a href="../../../syntax/index.html">Complete syntax</a></li><li><a href="../../../syntax/raccoon.html">RACCOON syntax</a></li><li><a href="../../../syntax/solid_mechanics.html">Solid mechanics syntax</a></li><li><a href="../../../syntax/phase_field.html">Phase field syntax</a></li><li><a href="../../../syntax/heat_transfer.html">Heat conduction syntax</a></li></ul><ul class="dropdown-content" id="d1ea1884-4cff-425d-93bf-1c54076c7276"><li><a href="../../../getting_started/install.html">Install RACCOON</a></li><li><a href="../../../getting_started/update.html">Update RACCOON</a></li><li><a href="../../../getting_started/running.html">Running your first model</a></li><li><a href="../../../getting_started/paraview.html">Visualization</a></li><li><a href="../../../getting_started/ide.html">Code development</a></li><li><a href="../../../getting_started/docs.html">Browse the documentation locally</a></li></ul><ul class="dropdown-content" id="932abbb8-ef2f-4405-bdca-086186d65b43"><li><a href="../../../tutorials/01_small_deformation_elasticity.html">1. Small deformation</a></li><li><a href="../../../tutorials/02_mode1_brittle_fracture.html">2. Mode-I fracture</a></li><li><a href="../../../tutorials/03_mode2_brittle_fracture.html">3. Mode-II fracture</a></li><li><a href="../../../tutorials/04_fiber_reinforced_matrix.html">4. Fiber-reinforced matrix</a></li><li><a href="../../../tutorials/05_soil_desiccation.html">5. Soil desiccation</a></li><li><a href="../../../tutorials/06_large_deformation_elasticity.html">6. Large deformation</a></li><li><a href="../../../tutorials/07_elastoplasticity.html">7. Elastoplasticity</a></li><li><a href="../../../tutorials/08_ductile_fracture.html">8. Ductile fracture</a></li><li><a href="../../../tutorials/09_three_point_bending.html">9. Three-point bending</a></li><li><a href="../../../tutorials/10_quenching_bibeam.html">10. Quenching of bi-beam</a></li><li><a href="../../../tutorials/11_adaptivity.html">11. Adaptive mesh refinement</a></li><li><a href="../../../tutorials/12_nucleation.html">12. Crack nucleation</a></li><li><a href="../../../tutorials/13_traction_separation.html">13. Traction separation law</a></li><li><a href="../../../tutorials/14_klexpansion.html">14. Random field generation</a></li><li><a href="../../../tutorials/15_mosaic_patches.html">15. Mosaic field generation</a></li></ul><ul class="dropdown-content" id="2b763c90-dafc-4611-9627-96c245831055"><li><a href="../../../theory/intro.html">Introduction</a></li><li><a href="../../../theory/kinematics.html">State variables and kinematics</a></li><li><a href="../../../theory/thermodynamics.html">Thermodynamics</a></li><li><a href="../../../theory/minimization.html">The minimization problem</a></li><li><a href="../../../theory/constitutive_models.html">Constitutive Models</a></li></ul><ul class="dropdown-content" id="a14cfc53-17d7-4d6b-8bfa-c490f895e9f2"><li><a href="../../index.html">Physics modules</a></li><li><a href="../../../syntax/index.html">Complete syntax</a></li><li><a href="../../../syntax/raccoon.html">RACCOON syntax</a></li><li><a href="../../../syntax/solid_mechanics.html">Solid mechanics syntax</a></li><li><a href="../../../syntax/phase_field.html">Phase field syntax</a></li><li><a href="../../../syntax/heat_transfer.html">Heat conduction syntax</a></li></ul></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="gcse-search"></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="moose-content col s12 m12 l12"><section id="9d93bf3c-96c2-4c21-b286-9490305e34e5" data-section-level="1" data-section-text="Isogeometric Analysis in MOOSE"><h1 id="isogeometric-analysis-in-moose">Isogeometric Analysis in MOOSE</h1><p>This example illustrates using <span>Isogeometric Analysis (IGA)</span> within MOOSE framework to perform a simulation. This example simulates  loads applied to a &quot;c-frame&quot; to determine the maximum principal stress.</p><section id="7860ec52-85c2-4d1c-864e-24648ced3455" data-section-level="2" data-section-text="Creating IGA Mesh"><h2 id="creating-iga-mesh">Creating IGA Mesh</h2><p>To create the mesh file included in this example a Coreform Cubit license is needed. Coreform Cubit is a product released and maintained by Coreform, LLC.  A free to use <a href="https://coreform.com/products/coreform-cubit/free-meshing-software/">Cubit Learn license</a> can be acquired.</p><div class="card moose-alert moose-alert-note"><div class="card-title moose-alert-title"><i class="material-icons moose-inline-icon">comment</i><span class="moose-alert-title-brand">note:</span>Mesh Generation with Cubit</div><div class="card-content"><div class="moose-alert-content"><p>The following is not required to run the example, but is required to generate the input mesh that is included in the example. To execute the Cubit journal file in batch from the command line use the following command:</p><pre style="max-height:350px;"><code class="language-text">
coreform_cubit -batch cframe_build.jou
</code></pre></div></div></div><p>Within the journal file, see <a class="moose-float-reference" href="#cframe_jou">Listing 1</a>, there are unique commands that will generate a uspline on the discretized mesh. </p><ul class="browser-default"><li><p>Line 35 sets the degree and continuity of the uspline </p></li><li><p>As of this writing, the max degree supported by libMesh is 2. </p></li><li><p>All continuity must equal p-1 where p is the degree. </p></li><li><p>Line 36 constructs the uspline using the geometry as a basis. </p></li><li><p>Line 37 fits the uspline that was built to the geometry.</p></li></ul><div class="card moose-float"><div class="card-content"><p class="moose-caption"><span class="moose-caption-heading">Listing 1: </span><span class="moose-caption-text" id="cframe_jou">Complete Coreform Cubit file for generating <span class="tooltipped" data-tooltip="Isogeometric Analysis" data-position="top" data-delay="50">IGA</span> input mesh</span></p><pre style="max-height:350px;"><code class="language-text">import step &quot;c-frame.step&quot; heal
remove surface 15 17 21 19 22 23 16 25 18 20 24 26 14 35 38 33 34 36 37 7 8 4 5 6 1 2 10 12 3 9 13 11 80 77 81 88 79 86 90 78 76 89 87 75 91 85 29 28 30 27 31 32 62 60 57 58 48 45 47 50 49 46 54 53 51 56 52 55 41 39 42 43 40 44 68 66  extend 
remove surface 93  extend 
remove surface 94  extend 
webcut volume 1  with sheet extended from surface 99 98 96  preview 
webcut volume 1  with sheet extended from surface 99 98 96  
webcut volume all with sheet extended from surface 92 59  
webcut volume 6 4 3 5 1 2  with sheet extended from surface 67 61  
webcut volume 1 16 2 15  with plane vertex 52  vertex 215  vertex 10  preview 
webcut volume 1 16 2 15  with plane vertex 52  vertex 215  vertex 10  
create vertex on curve 14  fraction 0.5 from start 
create vertex on curve 77  fraction 0.5 from start 
create vertex on curve 32  fraction 0.5 from start 
webcut volume 16 2 15  with plane vertex 270  vertex 269  vertex 271  
webcut volume 1  with plane vertex 270  vertex 269  vertex 271  preview 
webcut volume 1  with plane vertex 270  vertex 269  vertex 271  
delete Vertex 271 269 270
imprint all 
merge all
volume all redistribute nodes off 
volume all scheme Sweep Vector 1 0 0 
volume all scheme Sweep Vector 1 0 0 sweep transform least squares 
volume all autosmooth target on  fixed imprints off  smart smooth off 
volume all size 0.5
mesh volume all
block 1 vol all
sideset 2 surf 194 203 196 
sideset 3 Surface 146 155 148 
block 1 element type hex27 #Quadratic FEA elements
export mesh &quot;CFrame_FEA_05_deg2.e&quot;  overwrite #FEA Export
set uspline vol all deg 2 cont 1
build uspline vol all as 1
fit uspline 1
export uspline 1 exodus &quot;CFrame_IGA_05&quot;
</code></pre><a class="moose-source-filename tooltipped modal-trigger" href="#4e7039ac-8e87-4f66-ab7d-fb3718b34476">(moose/modules/solid_mechanics/examples/cframe_iga/cframe_build.jou)</a></div></div></section><section id="e02925f6-a5d4-4930-8fbc-70abef890045" data-section-level="2" data-section-text="MOOSE - IGA Simulation"><h2 id="moose-iga-simulation">MOOSE-IGA Simulation</h2><p>Performing the simulation utilizing the mesh created above does not require much with respect to the MOOSE input, simply  load the mesh from a file and select utilize the RATIONAL_BERNSTEIN element family as shown in <a class="moose-float-reference" href="#moose-iga-input">Listing 2</a>. Exporting using the VTK format (<code>vtk = true</code>) input will output in a format that will capture the higher-order nature  of the <span class="tooltipped" data-tooltip="Isogeometric Analysis" data-position="top" data-delay="50">IGA</span> based elements using Paraview visualization. </p><div class="card moose-float"><div class="card-content"><p class="moose-caption"><span class="moose-caption-heading">Listing 2: </span><span class="moose-caption-text" id="moose-iga-input">Complete input file for running example problem with <span class="tooltipped" data-tooltip="Isogeometric Analysis" data-position="top" data-delay="50">IGA</span> in MOOSE.</span></p><pre style="max-height:350px;"><code class="language-moose">[GlobalParams&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../syntax/GlobalParams/index.html&quot;}&gt;&gt;&gt;]
  displacements = &#x27;disp_x disp_y disp_z&#x27;
[]

[Mesh&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../syntax/Mesh/index.html&quot;}&gt;&gt;&gt;]
  [igafile]
    type = FileMeshGenerator&lt;&lt;&lt;{&quot;description&quot;: &quot;Read a mesh from a file.&quot;, &quot;href&quot;: &quot;../../../source/meshgenerators/FileMeshGenerator.html&quot;}&gt;&gt;&gt;
    file&lt;&lt;&lt;{&quot;description&quot;: &quot;The filename to read.&quot;}&gt;&gt;&gt; = cframe_iga_coarse.e
    clear_spline_nodes&lt;&lt;&lt;{&quot;description&quot;: &quot;If clear_spline_nodes=true, IsoGeometric Analyis spline nodes and constraints are removed from an IGA mesh, after which only C^0 Rational-Bernstein-Bezier elements will remain.&quot;}&gt;&gt;&gt; = true
  []
[]

[Variables&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../syntax/Variables/index.html&quot;}&gt;&gt;&gt;]
  [disp_x]
    order&lt;&lt;&lt;{&quot;description&quot;: &quot;Specifies the order of the FE shape function to use for this variable (additional orders not listed are allowed)&quot;}&gt;&gt;&gt; = SECOND
    family&lt;&lt;&lt;{&quot;description&quot;: &quot;Specifies the family of FE shape functions to use for this variable&quot;}&gt;&gt;&gt; = RATIONAL_BERNSTEIN
  []
  [disp_y]
    order&lt;&lt;&lt;{&quot;description&quot;: &quot;Specifies the order of the FE shape function to use for this variable (additional orders not listed are allowed)&quot;}&gt;&gt;&gt; = SECOND
    family&lt;&lt;&lt;{&quot;description&quot;: &quot;Specifies the family of FE shape functions to use for this variable&quot;}&gt;&gt;&gt; = RATIONAL_BERNSTEIN
  []
  [disp_z]
    order&lt;&lt;&lt;{&quot;description&quot;: &quot;Specifies the order of the FE shape function to use for this variable (additional orders not listed are allowed)&quot;}&gt;&gt;&gt; = SECOND
    family&lt;&lt;&lt;{&quot;description&quot;: &quot;Specifies the family of FE shape functions to use for this variable&quot;}&gt;&gt;&gt; = RATIONAL_BERNSTEIN
  []
[]

[Kernels&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../syntax/Kernels/index.html&quot;}&gt;&gt;&gt;]
  [SolidMechanics&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../syntax/Kernels/SolidMechanics/index.html&quot;}&gt;&gt;&gt;]
#Stress divergence kernels
    displacements&lt;&lt;&lt;{&quot;description&quot;: &quot;The nonlinear displacement variables for the problem&quot;}&gt;&gt;&gt; = &#x27;disp_x disp_y disp_z&#x27;
   []
[]

[AuxVariables&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../syntax/AuxVariables/index.html&quot;}&gt;&gt;&gt;]
    [von_mises]
        #Dependent variable used to visualize the von Mises stress
       order&lt;&lt;&lt;{&quot;description&quot;: &quot;Specifies the order of the FE shape function to use for this variable (additional orders not listed are allowed)&quot;}&gt;&gt;&gt; = SECOND
       family&lt;&lt;&lt;{&quot;description&quot;: &quot;Specifies the family of FE shape functions to use for this variable&quot;}&gt;&gt;&gt; = MONOMIAL
    []
    [Max_Princ]
       #Dependent variable used to visualize the Hoop stress
       order&lt;&lt;&lt;{&quot;description&quot;: &quot;Specifies the order of the FE shape function to use for this variable (additional orders not listed are allowed)&quot;}&gt;&gt;&gt; = SECOND
       family&lt;&lt;&lt;{&quot;description&quot;: &quot;Specifies the family of FE shape functions to use for this variable&quot;}&gt;&gt;&gt; = MONOMIAL
    []
    [stress_xx]
        order&lt;&lt;&lt;{&quot;description&quot;: &quot;Specifies the order of the FE shape function to use for this variable (additional orders not listed are allowed)&quot;}&gt;&gt;&gt; = SECOND
        family&lt;&lt;&lt;{&quot;description&quot;: &quot;Specifies the family of FE shape functions to use for this variable&quot;}&gt;&gt;&gt; = MONOMIAL
    []
    [stress_yy]
        order&lt;&lt;&lt;{&quot;description&quot;: &quot;Specifies the order of the FE shape function to use for this variable (additional orders not listed are allowed)&quot;}&gt;&gt;&gt; = SECOND
        family&lt;&lt;&lt;{&quot;description&quot;: &quot;Specifies the family of FE shape functions to use for this variable&quot;}&gt;&gt;&gt; = MONOMIAL
    []
    [stress_zz]
        order&lt;&lt;&lt;{&quot;description&quot;: &quot;Specifies the order of the FE shape function to use for this variable (additional orders not listed are allowed)&quot;}&gt;&gt;&gt; = SECOND
        family&lt;&lt;&lt;{&quot;description&quot;: &quot;Specifies the family of FE shape functions to use for this variable&quot;}&gt;&gt;&gt; = MONOMIAL
    []
[]

[AuxKernels&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../syntax/AuxKernels/index.html&quot;}&gt;&gt;&gt;]
  [von_mises_kernel]
    #Calculates the von mises stress and assigns it to von_mises
    type = RankTwoScalarAux&lt;&lt;&lt;{&quot;description&quot;: &quot;Compute a scalar property of a RankTwoTensor&quot;, &quot;href&quot;: &quot;../../../source/auxscalarkernels/RankTwoScalarAux.html&quot;}&gt;&gt;&gt;
    variable&lt;&lt;&lt;{&quot;description&quot;: &quot;The name of the variable that this object applies to&quot;}&gt;&gt;&gt; = von_mises
    rank_two_tensor&lt;&lt;&lt;{&quot;description&quot;: &quot;The rank two material tensor name&quot;}&gt;&gt;&gt; = stress
    scalar_type&lt;&lt;&lt;{&quot;description&quot;: &quot;Type of scalar output&quot;}&gt;&gt;&gt; = VonMisesStress
  []
  [MaxPrin]
    type = RankTwoScalarAux&lt;&lt;&lt;{&quot;description&quot;: &quot;Compute a scalar property of a RankTwoTensor&quot;, &quot;href&quot;: &quot;../../../source/auxscalarkernels/RankTwoScalarAux.html&quot;}&gt;&gt;&gt;
    variable&lt;&lt;&lt;{&quot;description&quot;: &quot;The name of the variable that this object applies to&quot;}&gt;&gt;&gt; = Max_Princ
    rank_two_tensor&lt;&lt;&lt;{&quot;description&quot;: &quot;The rank two material tensor name&quot;}&gt;&gt;&gt; = stress
    scalar_type&lt;&lt;&lt;{&quot;description&quot;: &quot;Type of scalar output&quot;}&gt;&gt;&gt; = MaxPrincipal
  []
  [stress_xx]
    type = RankTwoAux&lt;&lt;&lt;{&quot;description&quot;: &quot;Access a component of a RankTwoTensor&quot;, &quot;href&quot;: &quot;../../../source/auxkernels/RankTwoAux.html&quot;}&gt;&gt;&gt;
    index_i&lt;&lt;&lt;{&quot;description&quot;: &quot;The index i of ij for the tensor to output (0, 1, 2)&quot;}&gt;&gt;&gt; = 0
    index_j&lt;&lt;&lt;{&quot;description&quot;: &quot;The index j of ij for the tensor to output (0, 1, 2)&quot;}&gt;&gt;&gt; = 0
    rank_two_tensor&lt;&lt;&lt;{&quot;description&quot;: &quot;The rank two material tensor name&quot;}&gt;&gt;&gt; = stress
    variable&lt;&lt;&lt;{&quot;description&quot;: &quot;The name of the variable that this object applies to&quot;}&gt;&gt;&gt; = stress_xx
  []
    [stress_yy]
    type = RankTwoAux&lt;&lt;&lt;{&quot;description&quot;: &quot;Access a component of a RankTwoTensor&quot;, &quot;href&quot;: &quot;../../../source/auxkernels/RankTwoAux.html&quot;}&gt;&gt;&gt;
    index_i&lt;&lt;&lt;{&quot;description&quot;: &quot;The index i of ij for the tensor to output (0, 1, 2)&quot;}&gt;&gt;&gt; = 1
    index_j&lt;&lt;&lt;{&quot;description&quot;: &quot;The index j of ij for the tensor to output (0, 1, 2)&quot;}&gt;&gt;&gt; = 1
    rank_two_tensor&lt;&lt;&lt;{&quot;description&quot;: &quot;The rank two material tensor name&quot;}&gt;&gt;&gt; = stress
    variable&lt;&lt;&lt;{&quot;description&quot;: &quot;The name of the variable that this object applies to&quot;}&gt;&gt;&gt; = stress_yy
  []
  [stress_zz]
    type = RankTwoAux&lt;&lt;&lt;{&quot;description&quot;: &quot;Access a component of a RankTwoTensor&quot;, &quot;href&quot;: &quot;../../../source/auxkernels/RankTwoAux.html&quot;}&gt;&gt;&gt;
    index_i&lt;&lt;&lt;{&quot;description&quot;: &quot;The index i of ij for the tensor to output (0, 1, 2)&quot;}&gt;&gt;&gt; = 2
    index_j&lt;&lt;&lt;{&quot;description&quot;: &quot;The index j of ij for the tensor to output (0, 1, 2)&quot;}&gt;&gt;&gt; = 2
    rank_two_tensor&lt;&lt;&lt;{&quot;description&quot;: &quot;The rank two material tensor name&quot;}&gt;&gt;&gt; = stress
    variable&lt;&lt;&lt;{&quot;description&quot;: &quot;The name of the variable that this object applies to&quot;}&gt;&gt;&gt; = stress_zz
  []
[]

[BCs&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../syntax/BCs/index.html&quot;}&gt;&gt;&gt;]
  [Pressure&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../syntax/BCs/Pressure/index.html&quot;}&gt;&gt;&gt;]
    [load]
      #Applies the pressure
      boundary&lt;&lt;&lt;{&quot;description&quot;: &quot;The list of boundaries (ids or names) from the mesh where this object applies&quot;}&gt;&gt;&gt; = &#x27;3&#x27;
      factor&lt;&lt;&lt;{&quot;description&quot;: &quot;The magnitude to use in computing the pressure&quot;}&gt;&gt;&gt; = 2000 # psi
    []
  []
  [anchor_x]
    #Anchors the bottom and sides against deformation in the x-direction
    type = DirichletBC&lt;&lt;&lt;{&quot;description&quot;: &quot;Imposes the essential boundary condition $u=g$, where $g$ is a constant, controllable value.&quot;, &quot;href&quot;: &quot;../../../source/bcs/DirichletBC.html&quot;}&gt;&gt;&gt;
    variable&lt;&lt;&lt;{&quot;description&quot;: &quot;The name of the variable that this residual object operates on&quot;}&gt;&gt;&gt; = disp_x
    boundary&lt;&lt;&lt;{&quot;description&quot;: &quot;The list of boundary IDs from the mesh where this object applies&quot;}&gt;&gt;&gt; = &#x27;2&#x27;
    value&lt;&lt;&lt;{&quot;description&quot;: &quot;Value of the BC&quot;}&gt;&gt;&gt; = 0.0
  []
  [anchor_y]
    #Anchors the bottom and sides against deformation in the y-direction
    type = DirichletBC&lt;&lt;&lt;{&quot;description&quot;: &quot;Imposes the essential boundary condition $u=g$, where $g$ is a constant, controllable value.&quot;, &quot;href&quot;: &quot;../../../source/bcs/DirichletBC.html&quot;}&gt;&gt;&gt;
    variable&lt;&lt;&lt;{&quot;description&quot;: &quot;The name of the variable that this residual object operates on&quot;}&gt;&gt;&gt; = disp_y
    boundary&lt;&lt;&lt;{&quot;description&quot;: &quot;The list of boundary IDs from the mesh where this object applies&quot;}&gt;&gt;&gt; = &#x27;2&#x27;
    value&lt;&lt;&lt;{&quot;description&quot;: &quot;Value of the BC&quot;}&gt;&gt;&gt; = 0.0
  []
  [anchor_z]
    #Anchors the bottom and sides against deformation in the z-direction
    type = DirichletBC&lt;&lt;&lt;{&quot;description&quot;: &quot;Imposes the essential boundary condition $u=g$, where $g$ is a constant, controllable value.&quot;, &quot;href&quot;: &quot;../../../source/bcs/DirichletBC.html&quot;}&gt;&gt;&gt;
    variable&lt;&lt;&lt;{&quot;description&quot;: &quot;The name of the variable that this residual object operates on&quot;}&gt;&gt;&gt; = disp_z
    boundary&lt;&lt;&lt;{&quot;description&quot;: &quot;The list of boundary IDs from the mesh where this object applies&quot;}&gt;&gt;&gt; = &#x27;2&#x27;
    value&lt;&lt;&lt;{&quot;description&quot;: &quot;Value of the BC&quot;}&gt;&gt;&gt; = 0.0
  []
[]

[Materials&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../syntax/Materials/index.html&quot;}&gt;&gt;&gt;]
  [elasticity_tensor_AL]
    #Creates the elasticity tensor using concrete parameters
    youngs_modulus&lt;&lt;&lt;{&quot;description&quot;: &quot;Young&#x27;s modulus of the material.&quot;}&gt;&gt;&gt; = 24e6 #psi
    poissons_ratio&lt;&lt;&lt;{&quot;description&quot;: &quot;Poisson&#x27;s ratio for the material.&quot;}&gt;&gt;&gt; = 0.33
    type = ComputeIsotropicElasticityTensor&lt;&lt;&lt;{&quot;description&quot;: &quot;Compute a constant isotropic elasticity tensor.&quot;, &quot;href&quot;: &quot;../../../source/materials/ComputeIsotropicElasticityTensor.html&quot;}&gt;&gt;&gt;
  []
  [strain]
    #Computes the strain, assuming small strains
    type = ComputeSmallStrain&lt;&lt;&lt;{&quot;description&quot;: &quot;Compute a small strain.&quot;, &quot;href&quot;: &quot;../../../source/materials/ComputeSmallStrain.html&quot;}&gt;&gt;&gt;
    displacements&lt;&lt;&lt;{&quot;description&quot;: &quot;The displacements appropriate for the simulation geometry and coordinate system&quot;}&gt;&gt;&gt; = &#x27;disp_x disp_y disp_z&#x27;
  []
  [stress]
    #Computes the stress, using linear elasticity
    type = ComputeLinearElasticStress&lt;&lt;&lt;{&quot;description&quot;: &quot;Compute stress using elasticity for small strains&quot;, &quot;href&quot;: &quot;../../../source/materials/ComputeLinearElasticStress.html&quot;}&gt;&gt;&gt;
  []
  [density_AL]
    #Defines the density of steel
    type = GenericConstantMaterial&lt;&lt;&lt;{&quot;description&quot;: &quot;Declares material properties based on names and values prescribed by input parameters.&quot;, &quot;href&quot;: &quot;../../../source/materials/GenericConstantMaterial.html&quot;}&gt;&gt;&gt;
    prop_names&lt;&lt;&lt;{&quot;description&quot;: &quot;The names of the properties this material will have&quot;}&gt;&gt;&gt; = density
    prop_values&lt;&lt;&lt;{&quot;description&quot;: &quot;The values associated with the named properties&quot;}&gt;&gt;&gt; = 6.99e-4 # lbm/in^3
  []
[]

[Preconditioning&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../syntax/Preconditioning/index.html&quot;}&gt;&gt;&gt;]
  [SMP]
    #Creates the entire Jacobian, for the Newton solve
    type = SMP&lt;&lt;&lt;{&quot;description&quot;: &quot;Single matrix preconditioner (SMP) builds a preconditioner using user defined off-diagonal parts of the Jacobian.&quot;, &quot;href&quot;: &quot;../../../source/preconditioners/SingleMatrixPreconditioner.html&quot;}&gt;&gt;&gt;
    full&lt;&lt;&lt;{&quot;description&quot;: &quot;Set to true if you want the full set of couplings between variables simply for convenience so you don&#x27;t have to set every off_diag_row and off_diag_column combination.&quot;}&gt;&gt;&gt; = true
  []
[]

[Postprocessors&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../syntax/Postprocessors/index.html&quot;}&gt;&gt;&gt;]
  [max_principal_stress]
    type = PointValue&lt;&lt;&lt;{&quot;description&quot;: &quot;Compute the value of a variable at a specified location&quot;, &quot;href&quot;: &quot;../../../source/postprocessors/PointValue.html&quot;}&gt;&gt;&gt;
    point&lt;&lt;&lt;{&quot;description&quot;: &quot;The physical point where the solution will be evaluated.&quot;}&gt;&gt;&gt; = &#x27;0.000000 -1.500000 -4.3&#x27;
    variable&lt;&lt;&lt;{&quot;description&quot;: &quot;The name of the variable that this postprocessor operates on.&quot;}&gt;&gt;&gt; = Max_Princ
    use_displaced_mesh&lt;&lt;&lt;{&quot;description&quot;: &quot;Whether or not this object should use the displaced mesh for computation.  Note that in the case this is true but no displacements are provided in the Mesh block the undisplaced mesh will still be used.&quot;}&gt;&gt;&gt; = false
  []
  [maxPrincStress]
    type = ElementExtremeValue&lt;&lt;&lt;{&quot;description&quot;: &quot;Finds either the min or max elemental value of a variable over the domain.&quot;, &quot;href&quot;: &quot;../../../source/postprocessors/ElementExtremeValue.html&quot;}&gt;&gt;&gt;
    variable&lt;&lt;&lt;{&quot;description&quot;: &quot;The name of the variable that this postprocessor operates on&quot;}&gt;&gt;&gt; = Max_Princ
  []
[]

[Executioner&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../syntax/Executioner/index.html&quot;}&gt;&gt;&gt;]
  # We solve a steady state problem using Newton&#x27;s iteration
  type = Steady
  solve_type = NEWTON
  nl_rel_tol = 1e-9
  l_max_its = 300
  l_tol = 1e-4
  nl_max_its = 30
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27;hypre boomeramg 31&#x27;
[]

[Outputs&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../syntax/Outputs/index.html&quot;}&gt;&gt;&gt;]
  vtk&lt;&lt;&lt;{&quot;description&quot;: &quot;Output the results using the default settings for VTKOutput output&quot;}&gt;&gt;&gt; = true
[]</code></pre><a class="moose-source-filename tooltipped modal-trigger" href="#cb99039f-b519-41e7-80cf-412a49bfbc92">(moose/modules/solid_mechanics/examples/cframe_iga/cframe_iga.i)</a></div></div><div class="card moose-float" id="moose-iga-vtk"><div class="card-content"><picture class="materialboxed moose-image"><img src="../../../large_media/solid_mechanics/cframe_iga.png" alt="Maximum principal stress for "c-frame" example utilizing [!ac](IGA) in MOOSE."></img></picture><p class="moose-caption"><span class="moose-caption-heading">Figure 1: </span><span class="moose-caption-text" id="moose-iga-vtk">Maximum principal stress for &quot;c-frame&quot; example utilizing <span class="tooltipped" data-tooltip="Isogeometric Analysis" data-position="top" data-delay="50">IGA</span> in MOOSE.</span></p></div></div></section></section><div class="moose-modal modal" id="4e7039ac-8e87-4f66-ab7d-fb3718b34476"><div class="modal-content"><h4>(moose/modules/solid_mechanics/examples/cframe_iga/cframe_build.jou)</h4><pre style="max-height:350px;"><code class="language-text">import step &quot;c-frame.step&quot; heal
remove surface 15 17 21 19 22 23 16 25 18 20 24 26 14 35 38 33 34 36 37 7 8 4 5 6 1 2 10 12 3 9 13 11 80 77 81 88 79 86 90 78 76 89 87 75 91 85 29 28 30 27 31 32 62 60 57 58 48 45 47 50 49 46 54 53 51 56 52 55 41 39 42 43 40 44 68 66  extend 
remove surface 93  extend 
remove surface 94  extend 
webcut volume 1  with sheet extended from surface 99 98 96  preview 
webcut volume 1  with sheet extended from surface 99 98 96  
webcut volume all with sheet extended from surface 92 59  
webcut volume 6 4 3 5 1 2  with sheet extended from surface 67 61  
webcut volume 1 16 2 15  with plane vertex 52  vertex 215  vertex 10  preview 
webcut volume 1 16 2 15  with plane vertex 52  vertex 215  vertex 10  
create vertex on curve 14  fraction 0.5 from start 
create vertex on curve 77  fraction 0.5 from start 
create vertex on curve 32  fraction 0.5 from start 
webcut volume 16 2 15  with plane vertex 270  vertex 269  vertex 271  
webcut volume 1  with plane vertex 270  vertex 269  vertex 271  preview 
webcut volume 1  with plane vertex 270  vertex 269  vertex 271  
delete Vertex 271 269 270
imprint all 
merge all
volume all redistribute nodes off 
volume all scheme Sweep Vector 1 0 0 
volume all scheme Sweep Vector 1 0 0 sweep transform least squares 
volume all autosmooth target on  fixed imprints off  smart smooth off 
volume all size 0.5
mesh volume all
block 1 vol all
sideset 2 surf 194 203 196 
sideset 3 Surface 146 155 148 
block 1 element type hex27 #Quadratic FEA elements
export mesh &quot;CFrame_FEA_05_deg2.e&quot;  overwrite #FEA Export
set uspline vol all deg 2 cont 1
build uspline vol all as 1
fit uspline 1
export uspline 1 exodus &quot;CFrame_IGA_05&quot;</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="moose-modal modal" id="cb99039f-b519-41e7-80cf-412a49bfbc92"><div class="modal-content"><h4>(moose/modules/solid_mechanics/examples/cframe_iga/cframe_iga.i)</h4><pre style="max-height:350px;"><code class="language-moose">[GlobalParams]
  displacements = &#x27;disp_x disp_y disp_z&#x27;
[]

[Mesh]
  [igafile]
    type = FileMeshGenerator
    file = cframe_iga_coarse.e
    clear_spline_nodes = true
  []
[]

[Variables]
  [disp_x]
    order = SECOND
    family = RATIONAL_BERNSTEIN
  []
  [disp_y]
    order = SECOND
    family = RATIONAL_BERNSTEIN
  []
  [disp_z]
    order = SECOND
    family = RATIONAL_BERNSTEIN
  []
[]

[Kernels]
  [SolidMechanics]
#Stress divergence kernels
    displacements = &#x27;disp_x disp_y disp_z&#x27;
   []
[]

[AuxVariables]
    [von_mises]
        #Dependent variable used to visualize the von Mises stress
       order = SECOND
       family = MONOMIAL
    []
    [Max_Princ]
       #Dependent variable used to visualize the Hoop stress
       order = SECOND
       family = MONOMIAL
    []
    [stress_xx]
        order = SECOND
        family = MONOMIAL
    []
    [stress_yy]
        order = SECOND
        family = MONOMIAL
    []
    [stress_zz]
        order = SECOND
        family = MONOMIAL
    []
[]

[AuxKernels]
  [von_mises_kernel]
    #Calculates the von mises stress and assigns it to von_mises
    type = RankTwoScalarAux
    variable = von_mises
    rank_two_tensor = stress
    scalar_type = VonMisesStress
  []
  [MaxPrin]
    type = RankTwoScalarAux
    variable = Max_Princ
    rank_two_tensor = stress
    scalar_type = MaxPrincipal
  []
  [stress_xx]
    type = RankTwoAux
    index_i = 0
    index_j = 0
    rank_two_tensor = stress
    variable = stress_xx
  []
    [stress_yy]
    type = RankTwoAux
    index_i = 1
    index_j = 1
    rank_two_tensor = stress
    variable = stress_yy
  []
  [stress_zz]
    type = RankTwoAux
    index_i = 2
    index_j = 2
    rank_two_tensor = stress
    variable = stress_zz
  []
[]

[BCs]
  [Pressure]
    [load]
      #Applies the pressure
      boundary = &#x27;3&#x27;
      factor = 2000 # psi
    []
  []
  [anchor_x]
    #Anchors the bottom and sides against deformation in the x-direction
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;2&#x27;
    value = 0.0
  []
  [anchor_y]
    #Anchors the bottom and sides against deformation in the y-direction
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;2&#x27;
    value = 0.0
  []
  [anchor_z]
    #Anchors the bottom and sides against deformation in the z-direction
    type = DirichletBC
    variable = disp_z
    boundary = &#x27;2&#x27;
    value = 0.0
  []
[]

[Materials]
  [elasticity_tensor_AL]
    #Creates the elasticity tensor using concrete parameters
    youngs_modulus = 24e6 #psi
    poissons_ratio = 0.33
    type = ComputeIsotropicElasticityTensor
  []
  [strain]
    #Computes the strain, assuming small strains
    type = ComputeSmallStrain
    displacements = &#x27;disp_x disp_y disp_z&#x27;
  []
  [stress]
    #Computes the stress, using linear elasticity
    type = ComputeLinearElasticStress
  []
  [density_AL]
    #Defines the density of steel
    type = GenericConstantMaterial
    prop_names = density
    prop_values = 6.99e-4 # lbm/in^3
  []
[]

[Preconditioning]
  [SMP]
    #Creates the entire Jacobian, for the Newton solve
    type = SMP
    full = true
  []
[]

[Postprocessors]
  [max_principal_stress]
    type = PointValue
    point = &#x27;0.000000 -1.500000 -4.3&#x27;
    variable = Max_Princ
    use_displaced_mesh = false
  []
  [maxPrincStress]
    type = ElementExtremeValue
    variable = Max_Princ
  []
[]

[Executioner]
  # We solve a steady state problem using Newton&#x27;s iteration
  type = Steady
  solve_type = NEWTON
  nl_rel_tol = 1e-9
  l_max_its = 300
  l_tol = 1e-4
  nl_max_its = 30
  petsc_options_iname = &#x27;-pc_type -pc_hypre_type -ksp_gmres_restart&#x27;
  petsc_options_value = &#x27;hypre boomeramg 31&#x27;
[]

[Outputs]
  vtk = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div></div></div></div></main></div></body><script type="text/javascript" src="../../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../../js/init.js"></script><script type="text/javascript" src="../../../js/navigation.js"></script><script type="text/javascript" src="https://cse.google.com/cse.js?cx=008852834041008754713:g3ilnhhbbj9"></script><script type="text/javascript" src="../../../js/sqa_moose.js"></script><script type="text/javascript" src="../../../js/moose_input_parser.js"></script>