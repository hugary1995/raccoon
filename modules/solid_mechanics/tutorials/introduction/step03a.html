<!DOCTYPE html><head><meta charset="UTF-8"><title>Step 3 a Thermal expansion | RACCOON</title><link rel="icon" type="image/x-icon" href="../../../../media/raccoon_icon.png" sizes="16x16 32x32 64x64 128x128"></link><link href="../../../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../../../css/devel_moose.css" type="text/css" rel="stylesheet"></link><link href="../../../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><link href="../../../../css/civet_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../../../contrib/jquery/jquery.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="../../../../index.html" class="left moose-logo hide-on-med-and-down" id="home-button">RACCOON</a><a href="https://github.com/hugary1995/raccoon" class="right"><img src="../../../../media/framework/github-logo.png" alt="GitHub wordmark" class="github-mark"></img><img src="../../../../media/framework/github-mark.png" alt="GitHub logo" class="github-logo"></img></a><ul class="right hide-on-med-and-down"><li><a href="#!" class="dropdown-trigger" data-target="297ac2f1-90d8-4179-9c54-9d475e06d7d4" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="3700ea39-60a9-4028-819b-27f98d003d9e" data-constrainWidth="false">Tutorials<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="8c43010a-d6c6-4826-a34f-e2be39787191" data-constrainWidth="false">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="a37ce939-e36f-4e14-95b3-795fec3033c0" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../../../contribute/index.html">Contribute</a></li></ul><a href="#" class="sidenav-trigger" data-target="4c3cad12-b7d8-444e-b05e-820bc286a7c3"><i class="material-icons">menu</i></a><ul class="sidenav" id="4c3cad12-b7d8-444e-b05e-820bc286a7c3"><li><a href="#!" class="dropdown-trigger" data-target="93424347-3c4f-4444-93fa-4a3087c0d643" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="eae30a8b-d374-4ea5-ac9f-1ecc74793a71" data-constrainWidth="false">Tutorials<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="862bcc3b-0d1e-410d-8a61-57e318a62ecc" data-constrainWidth="false">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="182cfcf8-455c-4d29-b542-2c02a23ef430" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../../../contribute/index.html">Contribute</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div><ul class="dropdown-content" id="297ac2f1-90d8-4179-9c54-9d475e06d7d4"><li><a href="../../../../getting_started/install.html">Install RACCOON</a></li><li><a href="../../../../getting_started/update.html">Update RACCOON</a></li><li><a href="../../../../getting_started/running.html">Running your first model</a></li><li><a href="../../../../getting_started/paraview.html">Visualization</a></li><li><a href="../../../../getting_started/ide.html">Code development</a></li><li><a href="../../../../getting_started/docs.html">Browse the documentation locally</a></li></ul><ul class="dropdown-content" id="3700ea39-60a9-4028-819b-27f98d003d9e"><li><a href="../../../../tutorials/01_small_deformation_elasticity.html">1. Small deformation</a></li><li><a href="../../../../tutorials/02_mode1_brittle_fracture.html">2. Mode-I fracture</a></li><li><a href="../../../../tutorials/03_mode2_brittle_fracture.html">3. Mode-II fracture</a></li><li><a href="../../../../tutorials/04_fiber_reinforced_matrix.html">4. Fiber-reinforced matrix</a></li><li><a href="../../../../tutorials/05_soil_desiccation.html">5. Soil desiccation</a></li><li><a href="../../../../tutorials/06_large_deformation_elasticity.html">6. Large deformation</a></li><li><a href="../../../../tutorials/07_elastoplasticity.html">7. Elastoplasticity</a></li><li><a href="../../../../tutorials/08_ductile_fracture.html">8. Ductile fracture</a></li><li><a href="../../../../tutorials/09_three_point_bending.html">9. Three-point bending</a></li><li><a href="../../../../tutorials/10_quenching_bibeam.html">10. Quenching of bi-beam</a></li><li><a href="../../../../tutorials/11_adaptivity.html">11. Adaptive mesh refinement</a></li><li><a href="../../../../tutorials/12_nucleation.html">12. Crack nucleation</a></li><li><a href="../../../../tutorials/13_traction_separation.html">13. Traction separation law</a></li><li><a href="../../../../tutorials/14_klexpansion.html">14. Random field generation</a></li><li><a href="../../../../tutorials/15_mosaic_patches.html">15. Mosaic field generation</a></li></ul><ul class="dropdown-content" id="8c43010a-d6c6-4826-a34f-e2be39787191"><li><a href="../../../../theory/intro.html">Introduction</a></li><li><a href="../../../../theory/kinematics.html">State variables and kinematics</a></li><li><a href="../../../../theory/thermodynamics.html">Thermodynamics</a></li><li><a href="../../../../theory/minimization.html">The minimization problem</a></li><li><a href="../../../../theory/constitutive_models.html">Constitutive Models</a></li></ul><ul class="dropdown-content" id="a37ce939-e36f-4e14-95b3-795fec3033c0"><li><a href="../../../index.html">Physics modules</a></li><li><a href="../../../../syntax/index.html">Complete syntax</a></li><li><a href="../../../../syntax/raccoon.html">RACCOON syntax</a></li><li><a href="../../../../syntax/solid_mechanics.html">Solid mechanics syntax</a></li><li><a href="../../../../syntax/phase_field.html">Phase field syntax</a></li><li><a href="../../../../syntax/heat_transfer.html">Heat conduction syntax</a></li></ul><ul class="dropdown-content" id="93424347-3c4f-4444-93fa-4a3087c0d643"><li><a href="../../../../getting_started/install.html">Install RACCOON</a></li><li><a href="../../../../getting_started/update.html">Update RACCOON</a></li><li><a href="../../../../getting_started/running.html">Running your first model</a></li><li><a href="../../../../getting_started/paraview.html">Visualization</a></li><li><a href="../../../../getting_started/ide.html">Code development</a></li><li><a href="../../../../getting_started/docs.html">Browse the documentation locally</a></li></ul><ul class="dropdown-content" id="eae30a8b-d374-4ea5-ac9f-1ecc74793a71"><li><a href="../../../../tutorials/01_small_deformation_elasticity.html">1. Small deformation</a></li><li><a href="../../../../tutorials/02_mode1_brittle_fracture.html">2. Mode-I fracture</a></li><li><a href="../../../../tutorials/03_mode2_brittle_fracture.html">3. Mode-II fracture</a></li><li><a href="../../../../tutorials/04_fiber_reinforced_matrix.html">4. Fiber-reinforced matrix</a></li><li><a href="../../../../tutorials/05_soil_desiccation.html">5. Soil desiccation</a></li><li><a href="../../../../tutorials/06_large_deformation_elasticity.html">6. Large deformation</a></li><li><a href="../../../../tutorials/07_elastoplasticity.html">7. Elastoplasticity</a></li><li><a href="../../../../tutorials/08_ductile_fracture.html">8. Ductile fracture</a></li><li><a href="../../../../tutorials/09_three_point_bending.html">9. Three-point bending</a></li><li><a href="../../../../tutorials/10_quenching_bibeam.html">10. Quenching of bi-beam</a></li><li><a href="../../../../tutorials/11_adaptivity.html">11. Adaptive mesh refinement</a></li><li><a href="../../../../tutorials/12_nucleation.html">12. Crack nucleation</a></li><li><a href="../../../../tutorials/13_traction_separation.html">13. Traction separation law</a></li><li><a href="../../../../tutorials/14_klexpansion.html">14. Random field generation</a></li><li><a href="../../../../tutorials/15_mosaic_patches.html">15. Mosaic field generation</a></li></ul><ul class="dropdown-content" id="862bcc3b-0d1e-410d-8a61-57e318a62ecc"><li><a href="../../../../theory/intro.html">Introduction</a></li><li><a href="../../../../theory/kinematics.html">State variables and kinematics</a></li><li><a href="../../../../theory/thermodynamics.html">Thermodynamics</a></li><li><a href="../../../../theory/minimization.html">The minimization problem</a></li><li><a href="../../../../theory/constitutive_models.html">Constitutive Models</a></li></ul><ul class="dropdown-content" id="182cfcf8-455c-4d29-b542-2c02a23ef430"><li><a href="../../../index.html">Physics modules</a></li><li><a href="../../../../syntax/index.html">Complete syntax</a></li><li><a href="../../../../syntax/raccoon.html">RACCOON syntax</a></li><li><a href="../../../../syntax/solid_mechanics.html">Solid mechanics syntax</a></li><li><a href="../../../../syntax/phase_field.html">Phase field syntax</a></li><li><a href="../../../../syntax/heat_transfer.html">Heat conduction syntax</a></li></ul></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="gcse-search"></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="moose-content col s12 m12 l12"><section id="3f1ab0c1-e93d-4537-9695-bf672759526a" data-section-level="1" data-section-text="Step 3 a - Thermal expansion"><h1 id="step-3-a-thermal-expansion">Step 3a - Thermal expansion</h1><p>In this sidebar we&#x27;ll introduce a thermal expansion eigenstrain. To demonstrate the effect we reshape the domain from step 3 and make it narrow like a cantilever.</p><pre style="max-height:350px;"><code class="language-moose">#
# Added subdomains and subdomain-specific properties
# https://mooseframework.inl.gov/modules/solid_mechanics/tutorials/introduction/step03.html
#

[GlobalParams&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../../syntax/GlobalParams/index.html&quot;}&gt;&gt;&gt;]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Mesh&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../../syntax/Mesh/index.html&quot;}&gt;&gt;&gt;]
  [generated]
    type = GeneratedMeshGenerator&lt;&lt;&lt;{&quot;description&quot;: &quot;Create a line, square, or cube mesh with uniformly spaced or biased elements.&quot;, &quot;href&quot;: &quot;../../../../source/meshgenerators/GeneratedMeshGenerator.html&quot;}&gt;&gt;&gt;
    dim&lt;&lt;&lt;{&quot;description&quot;: &quot;The dimension of the mesh to be generated&quot;}&gt;&gt;&gt; = 2
    nx&lt;&lt;&lt;{&quot;description&quot;: &quot;Number of elements in the X direction&quot;}&gt;&gt;&gt; = 10
    ny&lt;&lt;&lt;{&quot;description&quot;: &quot;Number of elements in the Y direction&quot;}&gt;&gt;&gt; = 20
    xmin&lt;&lt;&lt;{&quot;description&quot;: &quot;Lower X Coordinate of the generated mesh&quot;}&gt;&gt;&gt; = -0.25
    xmax&lt;&lt;&lt;{&quot;description&quot;: &quot;Upper X Coordinate of the generated mesh&quot;}&gt;&gt;&gt; = 0.25
    ymax&lt;&lt;&lt;{&quot;description&quot;: &quot;Upper Y Coordinate of the generated mesh&quot;}&gt;&gt;&gt; = 5
  []
  [block1]
    type = SubdomainBoundingBoxGenerator&lt;&lt;&lt;{&quot;description&quot;: &quot;Changes the subdomain ID of elements either (XOR) inside or outside the specified box to the specified ID.&quot;, &quot;href&quot;: &quot;../../../../source/meshgenerators/SubdomainBoundingBoxGenerator.html&quot;}&gt;&gt;&gt;
    input&lt;&lt;&lt;{&quot;description&quot;: &quot;The mesh we want to modify&quot;}&gt;&gt;&gt; = generated
    block_id&lt;&lt;&lt;{&quot;description&quot;: &quot;Subdomain id to set for inside/outside the bounding box&quot;}&gt;&gt;&gt; = 1
    bottom_left&lt;&lt;&lt;{&quot;description&quot;: &quot;The bottom left point (in x,y,z with spaces in-between).&quot;}&gt;&gt;&gt; = &#x27;-0.25 0 0&#x27;
    top_right&lt;&lt;&lt;{&quot;description&quot;: &quot;The bottom left point (in x,y,z with spaces in-between).&quot;}&gt;&gt;&gt; = &#x27;0 5 0&#x27;
  []
  [block2]
    type = SubdomainBoundingBoxGenerator&lt;&lt;&lt;{&quot;description&quot;: &quot;Changes the subdomain ID of elements either (XOR) inside or outside the specified box to the specified ID.&quot;, &quot;href&quot;: &quot;../../../../source/meshgenerators/SubdomainBoundingBoxGenerator.html&quot;}&gt;&gt;&gt;
    input&lt;&lt;&lt;{&quot;description&quot;: &quot;The mesh we want to modify&quot;}&gt;&gt;&gt; = block1
    block_id&lt;&lt;&lt;{&quot;description&quot;: &quot;Subdomain id to set for inside/outside the bounding box&quot;}&gt;&gt;&gt; = 2
    bottom_left&lt;&lt;&lt;{&quot;description&quot;: &quot;The bottom left point (in x,y,z with spaces in-between).&quot;}&gt;&gt;&gt; = &#x27;0 0 0&#x27;
    top_right&lt;&lt;&lt;{&quot;description&quot;: &quot;The bottom left point (in x,y,z with spaces in-between).&quot;}&gt;&gt;&gt; = &#x27;0.25 5 0&#x27;
  []

  # select a single node in the center of the bottom boundary
  [pin]
    type = ExtraNodesetGenerator&lt;&lt;&lt;{&quot;description&quot;: &quot;Creates a new node set and a new boundary made with the nodes the user provides.&quot;, &quot;href&quot;: &quot;../../../../source/meshgenerators/ExtraNodesetGenerator.html&quot;}&gt;&gt;&gt;
    input&lt;&lt;&lt;{&quot;description&quot;: &quot;The mesh we want to modify&quot;}&gt;&gt;&gt; = block2
    new_boundary&lt;&lt;&lt;{&quot;description&quot;: &quot;The names of the boundaries to create&quot;}&gt;&gt;&gt; = pin
    coord&lt;&lt;&lt;{&quot;description&quot;: &quot;The nodes with coordinates you want to be in the nodeset. Separate multple coords with &#x27;;&#x27; (Either this parameter or \&quot;nodes\&quot; must be supplied).&quot;}&gt;&gt;&gt; = &#x27;0 0 0&#x27;
  []
[]

[AuxVariables&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../../syntax/AuxVariables/index.html&quot;}&gt;&gt;&gt;]
  [T]
  []
[]

[AuxKernels&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../../syntax/AuxKernels/index.html&quot;}&gt;&gt;&gt;]
  [temperature_ramp]
    type = FunctionAux&lt;&lt;&lt;{&quot;description&quot;: &quot;Auxiliary Kernel that creates and updates a field variable by sampling a function through space and time.&quot;, &quot;href&quot;: &quot;../../../../source/auxkernels/FunctionAux.html&quot;}&gt;&gt;&gt;
    execute_on&lt;&lt;&lt;{&quot;description&quot;: &quot;The list of flag(s) indicating when this object should be executed. For a description of each flag, see https://mooseframework.inl.gov/source/interfaces/SetupInterface.html.&quot;}&gt;&gt;&gt; = TIMESTEP_BEGIN
    variable&lt;&lt;&lt;{&quot;description&quot;: &quot;The name of the variable that this object applies to&quot;}&gt;&gt;&gt; = T
    function&lt;&lt;&lt;{&quot;description&quot;: &quot;The function to use as the value&quot;}&gt;&gt;&gt; = 300+5*t
  []
[]

[Physics&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../../syntax/Physics/index.html&quot;}&gt;&gt;&gt;/SolidMechanics&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../../syntax/Physics/SolidMechanics/index.html&quot;}&gt;&gt;&gt;/QuasiStatic&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../../syntax/Physics/SolidMechanics/QuasiStatic/index.html&quot;}&gt;&gt;&gt;]
  [all]
    add_variables&lt;&lt;&lt;{&quot;description&quot;: &quot;Add the displacement variables&quot;}&gt;&gt;&gt; = true
    automatic_eigenstrain_names&lt;&lt;&lt;{&quot;description&quot;: &quot;Collects all material eigenstrains and passes to required strain calculator within TMA internally.&quot;}&gt;&gt;&gt; = true
    generate_output&lt;&lt;&lt;{&quot;description&quot;: &quot;Add scalar quantity output for stress and/or strain&quot;}&gt;&gt;&gt; = &#x27;vonmises_stress&#x27;
  []
[]

[BCs&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../../syntax/BCs/index.html&quot;}&gt;&gt;&gt;]
  [pin_x]
    type = DirichletBC&lt;&lt;&lt;{&quot;description&quot;: &quot;Imposes the essential boundary condition $u=g$, where $g$ is a constant, controllable value.&quot;, &quot;href&quot;: &quot;../../../../source/bcs/DirichletBC.html&quot;}&gt;&gt;&gt;
    variable&lt;&lt;&lt;{&quot;description&quot;: &quot;The name of the variable that this residual object operates on&quot;}&gt;&gt;&gt; = disp_x
    boundary&lt;&lt;&lt;{&quot;description&quot;: &quot;The list of boundary IDs from the mesh where this object applies&quot;}&gt;&gt;&gt; = pin
    value&lt;&lt;&lt;{&quot;description&quot;: &quot;Value of the BC&quot;}&gt;&gt;&gt; = 0
  []
  [bottom_y]
    type = DirichletBC&lt;&lt;&lt;{&quot;description&quot;: &quot;Imposes the essential boundary condition $u=g$, where $g$ is a constant, controllable value.&quot;, &quot;href&quot;: &quot;../../../../source/bcs/DirichletBC.html&quot;}&gt;&gt;&gt;
    variable&lt;&lt;&lt;{&quot;description&quot;: &quot;The name of the variable that this residual object operates on&quot;}&gt;&gt;&gt; = disp_y
    boundary&lt;&lt;&lt;{&quot;description&quot;: &quot;The list of boundary IDs from the mesh where this object applies&quot;}&gt;&gt;&gt; = bottom
    value&lt;&lt;&lt;{&quot;description&quot;: &quot;Value of the BC&quot;}&gt;&gt;&gt; = 0
  []
[]

[Materials&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../../syntax/Materials/index.html&quot;}&gt;&gt;&gt;]
  [elasticity]
    type = ComputeIsotropicElasticityTensor&lt;&lt;&lt;{&quot;description&quot;: &quot;Compute a constant isotropic elasticity tensor.&quot;, &quot;href&quot;: &quot;../../../../source/materials/ComputeIsotropicElasticityTensor.html&quot;}&gt;&gt;&gt;
    youngs_modulus&lt;&lt;&lt;{&quot;description&quot;: &quot;Young&#x27;s modulus of the material.&quot;}&gt;&gt;&gt; = 1e9
    poissons_ratio&lt;&lt;&lt;{&quot;description&quot;: &quot;Poisson&#x27;s ratio for the material.&quot;}&gt;&gt;&gt; = 0.3
  []
  [expansion1]
    type = ComputeThermalExpansionEigenstrain&lt;&lt;&lt;{&quot;description&quot;: &quot;Computes eigenstrain due to thermal expansion with a constant coefficient&quot;, &quot;href&quot;: &quot;../../../../source/materials/ComputeThermalExpansionEigenstrain.html&quot;}&gt;&gt;&gt;
    temperature&lt;&lt;&lt;{&quot;description&quot;: &quot;Coupled temperature&quot;}&gt;&gt;&gt; = T
    thermal_expansion_coeff&lt;&lt;&lt;{&quot;description&quot;: &quot;Thermal expansion coefficient&quot;}&gt;&gt;&gt; = 0.001
    stress_free_temperature&lt;&lt;&lt;{&quot;description&quot;: &quot;Reference temperature at which there is no thermal expansion for thermal eigenstrain calculation&quot;}&gt;&gt;&gt; = 300
    eigenstrain_name&lt;&lt;&lt;{&quot;description&quot;: &quot;Material property name for the eigenstrain tensor computed by this model. IMPORTANT: The name of this property must also be provided to the strain calculator.&quot;}&gt;&gt;&gt; = thermal_expansion
    block&lt;&lt;&lt;{&quot;description&quot;: &quot;The list of blocks (ids or names) that this object will be applied&quot;}&gt;&gt;&gt; = 1
  []
  [expansion2]
    type = ComputeThermalExpansionEigenstrain&lt;&lt;&lt;{&quot;description&quot;: &quot;Computes eigenstrain due to thermal expansion with a constant coefficient&quot;, &quot;href&quot;: &quot;../../../../source/materials/ComputeThermalExpansionEigenstrain.html&quot;}&gt;&gt;&gt;
    temperature&lt;&lt;&lt;{&quot;description&quot;: &quot;Coupled temperature&quot;}&gt;&gt;&gt; = T
    thermal_expansion_coeff&lt;&lt;&lt;{&quot;description&quot;: &quot;Thermal expansion coefficient&quot;}&gt;&gt;&gt; = 0.002
    stress_free_temperature&lt;&lt;&lt;{&quot;description&quot;: &quot;Reference temperature at which there is no thermal expansion for thermal eigenstrain calculation&quot;}&gt;&gt;&gt; = 300
    eigenstrain_name&lt;&lt;&lt;{&quot;description&quot;: &quot;Material property name for the eigenstrain tensor computed by this model. IMPORTANT: The name of this property must also be provided to the strain calculator.&quot;}&gt;&gt;&gt; = thermal_expansion
    block&lt;&lt;&lt;{&quot;description&quot;: &quot;The list of blocks (ids or names) that this object will be applied&quot;}&gt;&gt;&gt; = 2
  []
  [stress]
    type = ComputeLinearElasticStress&lt;&lt;&lt;{&quot;description&quot;: &quot;Compute stress using elasticity for small strains&quot;, &quot;href&quot;: &quot;../../../../source/materials/ComputeLinearElasticStress.html&quot;}&gt;&gt;&gt;
  []
[]

[Executioner&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../../syntax/Executioner/index.html&quot;}&gt;&gt;&gt;]
  type = Transient
  solve_type = NEWTON
  petsc_options_iname = &#x27;-pc_type&#x27;
  petsc_options_value = &#x27;lu&#x27;
  end_time = 5
  dt = 1
[]

[Outputs&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../../syntax/Outputs/index.html&quot;}&gt;&gt;&gt;]
  exodus&lt;&lt;&lt;{&quot;description&quot;: &quot;Output the results using the default settings for Exodus output.&quot;}&gt;&gt;&gt; = true
[]</code></pre><a class="moose-source-filename tooltipped modal-trigger" href="#0aa8e921-0509-4c8b-ada5-3ad83c66847b">(moose/modules/solid_mechanics/tutorials/introduction/mech_step03a.i)</a><section id="a92a4571-ec80-4572-8ff4-1ffc1fcadff4" data-section-level="2" data-section-text="Input file"><h2 id="input-file">Input file</h2><section id="9356ea1c-e4cf-4749-8c23-e3711ef3cfa7" data-section-level="3" data-section-text="Mesh"><h3><code>Mesh</code></h3><p>Note the xmin and xmax upper <em>and</em> lower x-dimension extents are supplied here. The origin will lie in the center of the bottom boundary of this generated mesh.</p><p>New is the <a href="../../../../source/meshgenerators/ExtraNodesetGenerator.html"><code>ExtraNodesetGenerator</code></a> which we append to the existing chain of mesh generators. This generator allows us to create a new nodeset containing all nodes located at the coordinates the user specified in <a href="#aab0cc4a-09de-4f9f-b96f-212cd12a7654" class="moose-modal-link modal-trigger">&quot;coord&quot;</a>. Here we create a nodeset containing the single node at the origin. You need to make sure that a node actually exists at each specified coordinate! We call this nodeset <code>pin</code> for obvious reasons and will use it below in the BCs.</p></section><section id="7622e6e6-3bf2-484c-9f4c-986ac3ae8992" data-section-level="3" data-section-text="AuxVariables"><h3><code>AuxVariables</code></h3><p>We introduce a new auxiliary variable <code>T</code> (for temperature). Auxiliary variables are variables we&#x27;re not solving for, but are computing directly. To simplify this step we are not solving a heat conduction problem, but instead just prescribing a global temperature that is rising with time (see next section). Auxiliary variables can be coupled in everywhere regular (so called <em>nonlinear</em>) variables are coupled. They are a great tool for simplifying a model during development.</p></section><section id="c2c3f20e-ffc6-4be5-88a2-484286ba81b0" data-section-level="3" data-section-text="AuxKernels"><h3><code>AuxKernels</code></h3><p>The <a href="../../../../source/auxkernels/FunctionAux.html"><code>FunctionAux</code></a> AuxKernel can set an AuxVariable to a function of space and time. Note the <a href="#1672f366-e48b-4f87-8e29-bad89906336d" class="moose-modal-link modal-trigger">&quot;execute_on&quot;</a> parameter that is available in many MOOSE systems. Here we skip execution during LINEAR and NON_LINEAR iterations and only update the variable value at the beginning of the timestep.</p></section><section id="46c3be8e-c907-473f-888e-f92b0f2e8f2d" data-section-level="3" data-section-text="SolidMechanics QuasiStatic Physics"><h3 id="solidmechanics-quasistatic-physics">SolidMechanics QuasiStatic Physics</h3><p>We&#x27;ve added the <a href="#c8b82ad4-5b61-462d-ab52-b394e24ede8c" class="moose-modal-link modal-trigger">&quot;automatic_eigenstrain_names&quot;</a> parameter to the quasi-static physics. With this option enabled the quasi-static physics will try to automatically detect all material objects that provide eigenstrain properties. This works well for most scenarios. Note that MOOSE will print a list of detected eigenstrain names very early in its console output. Look for</p><pre style="max-height:350px;"><code class="language-text">
*** Automatic Eigenstrain Names ***
all: thermal_expansion
</code></pre><p>when you run this example. Here <code>all</code> is the quasi-static physics block name and <code>thermal_expansion</code> is the <a href="#db26acf2-c97e-4dd8-b0a8-f880b38b4820" class="moose-modal-link modal-trigger">&quot;eigenstrain_name&quot;</a> parameter value for the two eigenstrain materials below. The action correctly detected it and verified that eigenstrains are provided on all subdomains covered by the quasi-static physics block. To manually supply the eigenstrain material properties use the <a href="#db09918c-8df2-4b80-9338-45ed150d957a" class="moose-modal-link modal-trigger">&quot;eigenstrain_names&quot;</a> parameter. Like so</p><pre style="max-height:350px;"><code class="language-text">
[Physics/SolidMechanics/QuasiStatic]
  [all]
    add_variables = true
    eigenstrain_names = &#x27;thermal_expansion&#x27;
    generate_output = &#x27;vonmises_stress&#x27;
  []
[]
</code></pre></section><section id="f50619ed-6015-46f6-90c4-9ec55a7ef6d8" data-section-level="3" data-section-text="BCs"><h3><code>BCs</code></h3><p>We have changed the way we apply the boundary condition on the x displacement variable <code>disp_x</code> to only constrain this variable at the <code>pin</code> &quot;boundary&quot;. Above we defined this boundary as the nodeset containing the single node at (0,0,0).</p><p>Pinning at a single point is less restrictive and allows the model to expand in x-direction along the bottom boundary (which will happen due to isotropic thermal expansion). Yet we still remove all rigid body modes</p><ul class="browser-default"><li><p>Translation, because we fix both x and y displacement on <em>at least</em> one node </p></li><li><p>Rotation, because we fix y displacement on another node (actually on all nodes along the bottom boundary)</p></li></ul><p>Pinning nodes to remove rigid body modes is an important tool to create mechanics simulations that converge. The presence of rigid body modes will lead to <strong>non-convergence</strong>. BCs on single nodes rather than whole boundaries can help avoid overconstraining your problems. Keep in mind that to remove all 6 rigid body modes in a 3D simulation you need to apply BCs on at least 3 nodes (which cannot be co-linear). One node will have to be constrained in 3 direction, one in 2 and one in just one direction. The first node will remove three translation modes. The second node will remove two rotational modes (and will establish an axis of rotation). The third node will remove that final rotational mode.</p></section><section id="de467da7-fab3-4189-a659-a41e0c9153ba" data-section-level="3" data-section-text="Materials"><h3><code>Materials</code></h3><p>An &quot;Eigenstrain&quot; in MOOSE is a stress free strain. It is an intrinsic shape change of a volume element due to effects like thermal expansion, swelling, diffusion of over/undersized solutes, etc.</p><p>We use two <a href="../../../../source/materials/ComputeThermalExpansionEigenstrain.html"><code>ComputeThermalExpansionEigenstrain</code></a> objects to compute an eigenstrain tensor in each of the two subdomains. The <a href="#4b318d9f-8c62-41bc-b81f-ed4178786f28" class="moose-modal-link modal-trigger">&quot;stress_free_temperature&quot;</a> is set to 300K, which is the initial temperature set for the <code>T</code> AuxVariable. At this temperature we assume the eigenstrain to be zero (with contraction at temperatures lower than 300K and expansion above).  The <a href="#a376ccc7-9fb6-4d34-8a04-78b6823189c6" class="moose-modal-link modal-trigger">&quot;thermal_expansion_coeff&quot;</a> is chosen differently on the two subdomains. This effectively models a bimetallic strip.</p></section></section><section id="f656d985-fd4d-43af-b326-33d3e5df5be3" data-section-level="2" data-section-text="Questions"><h2 id="questions">Questions</h2><section id="da32fcd8-acbb-4949-88c5-6cc41a8f94c2" data-section-level="3" data-section-text="Expected outcome"><h3 id="expected-outcome">Expected outcome</h3><blockquote><p>Think about what you expect to happen when you run the input.</p></blockquote><p><a href="answer03b.html">Click here for the answer.</a></p></section><section id="6eabaa3d-5032-4414-9504-64c786de65a9" data-section-level="3" data-section-text="Overconstraining"><h3 id="overconstraining">Overconstraining</h3><blockquote><p>Apply the <code>disp_x</code> boundary condition to the entire bottom surface again and observe what happens. Undo that change before you move on to the next question.</p></blockquote><p><a href="answer03c.html">Click here for the answer.</a></p></section><section id="8c298874-3802-465e-a4a4-b260e43f84da" data-section-level="3" data-section-text="Constraining even less"><h3 id="constraining-even-less">Constraining even less</h3><blockquote><p>In the original input we&#x27;re fixing the y displacement to 0 in the entire bottom boundary. Try to relax this constraint a bit try to add a second single node boundary using the <code>ExtraNodesetGenerator</code> (chained in after the <code>pin</code> generator). Use one of the two bottom corner nodes. Now think about where you have to apply the <code>disp_y != 0</code> boundary condition.</p></blockquote><p><a href="answer03d.html">Click here for the answer.</a></p><p>Once you&#x27;ve answered the questions and run this example we will move on to <a href="step04.html">Step 4</a>  and setup a cantilever problem that prepares us for contact. </p></section></section></section><div class="moose-modal modal" id="0aa8e921-0509-4c8b-ada5-3ad83c66847b"><div class="modal-content"><h4>(moose/modules/solid_mechanics/tutorials/introduction/mech_step03a.i)</h4><pre style="max-height:350px;"><code class="language-moose">#
# Added subdomains and subdomain-specific properties
# https://mooseframework.inl.gov/modules/solid_mechanics/tutorials/introduction/step03.html
#

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Mesh]
  [generated]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 10
    ny = 20
    xmin = -0.25
    xmax = 0.25
    ymax = 5
  []
  [block1]
    type = SubdomainBoundingBoxGenerator
    input = generated
    block_id = 1
    bottom_left = &#x27;-0.25 0 0&#x27;
    top_right = &#x27;0 5 0&#x27;
  []
  [block2]
    type = SubdomainBoundingBoxGenerator
    input = block1
    block_id = 2
    bottom_left = &#x27;0 0 0&#x27;
    top_right = &#x27;0.25 5 0&#x27;
  []

  # select a single node in the center of the bottom boundary
  [pin]
    type = ExtraNodesetGenerator
    input = block2
    new_boundary = pin
    coord = &#x27;0 0 0&#x27;
  []
[]

[AuxVariables]
  [T]
  []
[]

[AuxKernels]
  [temperature_ramp]
    type = FunctionAux
    execute_on = TIMESTEP_BEGIN
    variable = T
    function = 300+5*t
  []
[]

[Physics/SolidMechanics/QuasiStatic]
  [all]
    add_variables = true
    automatic_eigenstrain_names = true
    generate_output = &#x27;vonmises_stress&#x27;
  []
[]

[BCs]
  [pin_x]
    type = DirichletBC
    variable = disp_x
    boundary = pin
    value = 0
  []
  [bottom_y]
    type = DirichletBC
    variable = disp_y
    boundary = bottom
    value = 0
  []
[]

[Materials]
  [elasticity]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 1e9
    poissons_ratio = 0.3
  []
  [expansion1]
    type = ComputeThermalExpansionEigenstrain
    temperature = T
    thermal_expansion_coeff = 0.001
    stress_free_temperature = 300
    eigenstrain_name = thermal_expansion
    block = 1
  []
  [expansion2]
    type = ComputeThermalExpansionEigenstrain
    temperature = T
    thermal_expansion_coeff = 0.002
    stress_free_temperature = 300
    eigenstrain_name = thermal_expansion
    block = 2
  []
  [stress]
    type = ComputeLinearElasticStress
  []
[]

[Executioner]
  type = Transient
  solve_type = NEWTON
  petsc_options_iname = &#x27;-pc_type&#x27;
  petsc_options_value = &#x27;lu&#x27;
  end_time = 5
  dt = 1
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="moose-modal modal" id="aab0cc4a-09de-4f9f-b96f-212cd12a7654"><div class="modal-content"><h4>coord</h4><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;std::vector&lt;double&gt;&gt;</p><p class="moose-parameter-description-doc-unit"><span>Unit:</span>(no unit assumed)</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>The nodes with coordinates you want to be in the nodeset. Separate multple coords with ';' (Either this parameter or "nodes" must be supplied).</p></div></div><div class="moose-modal modal" id="1672f366-e48b-4f87-8e29-bad89906336d"><div class="modal-content"><h4>execute_on</h4><p class="moose-parameter-description-default"><span>Default:</span>LINEAR TIMESTEP_END</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>ExecFlagEnum</p><p class="moose-parameter-description-options"><span>Options:</span>XFEM_MARK, NONE, INITIAL, LINEAR, LINEAR_CONVERGENCE, NONLINEAR, NONLINEAR_CONVERGENCE, POSTCHECK, TIMESTEP_END, TIMESTEP_BEGIN, MULTIAPP_FIXED_POINT_END, MULTIAPP_FIXED_POINT_BEGIN, MULTIAPP_FIXED_POINT_CONVERGENCE, FINAL, CUSTOM, PRE_DISPLACE</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>The list of flag(s) indicating when this object should be executed. For a description of each flag, see https://mooseframework.inl.gov/source/interfaces/SetupInterface.html.</p></div></div><div class="moose-modal modal" id="c8b82ad4-5b61-462d-ab52-b394e24ede8c"><div class="modal-content"><h4>automatic_eigenstrain_names</h4><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Collects all material eigenstrains and passes to required strain calculator within TMA internally.</p></div></div><div class="moose-modal modal" id="db26acf2-c97e-4dd8-b0a8-f880b38b4820"><div class="modal-content"><h4>eigenstrain_name</h4><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::string</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Material property name for the eigenstrain tensor computed by this model. IMPORTANT: The name of this property must also be provided to the strain calculator.</p></div></div><div class="moose-modal modal" id="db09918c-8df2-4b80-9338-45ed150d957a"><div class="modal-content"><h4>eigenstrain_names</h4><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;MaterialPropertyName&gt;</p><p class="moose-parameter-description-doc-unit"><span>Unit:</span>(no unit assumed)</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>List of eigenstrains to be applied in this strain calculation</p></div></div><div class="moose-modal modal" id="4b318d9f-8c62-41bc-b81f-ed4178786f28"><div class="modal-content"><h4>stress_free_temperature</h4><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;VariableName&gt;</p><p class="moose-parameter-description-doc-unit"><span>Unit:</span>(no unit assumed)</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Reference temperature at which there is no thermal expansion for thermal eigenstrain calculation</p></div></div><div class="moose-modal modal" id="a376ccc7-9fb6-4d34-8a04-78b6823189c6"><div class="modal-content"><h4>thermal_expansion_coeff</h4><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-doc-unit"><span>Unit:</span>(no unit assumed)</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>Yes</p><p class="moose-parameter-description"><span>Description:</span>Thermal expansion coefficient</p></div></div></div></div></div></main></div></body><script type="text/javascript" src="../../../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../../../js/init.js"></script><script type="text/javascript" src="../../../../js/navigation.js"></script><script type="text/javascript" src="https://cse.google.com/cse.js?cx=008852834041008754713:g3ilnhhbbj9"></script><script type="text/javascript" src="../../../../js/sqa_moose.js"></script><script type="text/javascript" src="../../../../js/moose_input_parser.js"></script>