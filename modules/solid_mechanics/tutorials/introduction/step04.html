<!DOCTYPE html><head><meta charset="UTF-8"><title>Step 4 Multiple submeshes | RACCOON</title><link rel="icon" type="image/x-icon" href="../../../../media/raccoon_icon.png" sizes="16x16 32x32 64x64 128x128"></link><link href="../../../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../../../css/devel_moose.css" type="text/css" rel="stylesheet"></link><link href="../../../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><link href="../../../../css/civet_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../../../contrib/jquery/jquery.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="../../../../index.html" class="left moose-logo hide-on-med-and-down" id="home-button">RACCOON</a><a href="https://github.com/hugary1995/raccoon" class="right"><img src="../../../../media/framework/github-logo.png" alt="GitHub wordmark" class="github-mark"></img><img src="../../../../media/framework/github-mark.png" alt="GitHub logo" class="github-logo"></img></a><ul class="right hide-on-med-and-down"><li><a href="#!" class="dropdown-trigger" data-target="0d604e59-cfc5-4a8a-8b37-2a966189b9d6" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="4991e39b-585d-4fff-8cb7-376084d20f8d" data-constrainWidth="false">Tutorials<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="ba3315ca-374e-4e04-ac1f-2d9244c286f5" data-constrainWidth="false">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="036246d8-9a46-481a-a866-91bebf754e0a" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../../../contribute/index.html">Contribute</a></li></ul><a href="#" class="sidenav-trigger" data-target="e4b1745e-fd40-418b-9eeb-9ea63d34a7f9"><i class="material-icons">menu</i></a><ul class="sidenav" id="e4b1745e-fd40-418b-9eeb-9ea63d34a7f9"><li><a href="#!" class="dropdown-trigger" data-target="73f49d08-2d63-41e9-8d10-370b5efc99cc" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="8c450cc7-0de7-4ca7-843f-b673ced2a32f" data-constrainWidth="false">Tutorials<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="642006a8-e962-48d7-a652-de36a91885ab" data-constrainWidth="false">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="8bb592a1-f090-4aa8-8e6e-fef59317d180" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../../../contribute/index.html">Contribute</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div><ul class="dropdown-content" id="0d604e59-cfc5-4a8a-8b37-2a966189b9d6"><li><a href="../../../../getting_started/install.html">Install RACCOON</a></li><li><a href="../../../../getting_started/update.html">Update RACCOON</a></li><li><a href="../../../../getting_started/running.html">Running your first model</a></li><li><a href="../../../../getting_started/paraview.html">Visualization</a></li><li><a href="../../../../getting_started/ide.html">Code development</a></li><li><a href="../../../../getting_started/docs.html">Browse the documentation locally</a></li></ul><ul class="dropdown-content" id="4991e39b-585d-4fff-8cb7-376084d20f8d"><li><a href="../../../../tutorials/01_small_deformation_elasticity.html">1. Small deformation</a></li><li><a href="../../../../tutorials/02_mode1_brittle_fracture.html">2. Mode-I fracture</a></li><li><a href="../../../../tutorials/03_mode2_brittle_fracture.html">3. Mode-II fracture</a></li><li><a href="../../../../tutorials/04_fiber_reinforced_matrix.html">4. Fiber-reinforced matrix</a></li><li><a href="../../../../tutorials/05_soil_desiccation.html">5. Soil desiccation</a></li><li><a href="../../../../tutorials/06_large_deformation_elasticity.html">6. Large deformation</a></li><li><a href="../../../../tutorials/07_elastoplasticity.html">7. Elastoplasticity</a></li><li><a href="../../../../tutorials/08_ductile_fracture.html">8. Ductile fracture</a></li><li><a href="../../../../tutorials/09_three_point_bending.html">9. Three-point bending</a></li><li><a href="../../../../tutorials/10_quenching_bibeam.html">10. Quenching of bi-beam</a></li><li><a href="../../../../tutorials/11_adaptivity.html">11. Adaptive mesh refinement</a></li><li><a href="../../../../tutorials/12_nucleation.html">12. Crack nucleation</a></li><li><a href="../../../../tutorials/13_traction_separation.html">13. Traction separation law</a></li><li><a href="../../../../tutorials/14_klexpansion.html">14. Random field generation</a></li><li><a href="../../../../tutorials/15_mosaic_patches.html">15. Mosaic field generation</a></li></ul><ul class="dropdown-content" id="ba3315ca-374e-4e04-ac1f-2d9244c286f5"><li><a href="../../../../theory/intro.html">Introduction</a></li><li><a href="../../../../theory/kinematics.html">State variables and kinematics</a></li><li><a href="../../../../theory/thermodynamics.html">Thermodynamics</a></li><li><a href="../../../../theory/minimization.html">The minimization problem</a></li><li><a href="../../../../theory/constitutive_models.html">Constitutive Models</a></li></ul><ul class="dropdown-content" id="036246d8-9a46-481a-a866-91bebf754e0a"><li><a href="../../../index.html">Physics modules</a></li><li><a href="../../../../syntax/index.html">Complete syntax</a></li><li><a href="../../../../syntax/raccoon.html">RACCOON syntax</a></li><li><a href="../../../../syntax/solid_mechanics.html">Solid mechanics syntax</a></li><li><a href="../../../../syntax/phase_field.html">Phase field syntax</a></li><li><a href="../../../../syntax/heat_transfer.html">Heat conduction syntax</a></li></ul><ul class="dropdown-content" id="73f49d08-2d63-41e9-8d10-370b5efc99cc"><li><a href="../../../../getting_started/install.html">Install RACCOON</a></li><li><a href="../../../../getting_started/update.html">Update RACCOON</a></li><li><a href="../../../../getting_started/running.html">Running your first model</a></li><li><a href="../../../../getting_started/paraview.html">Visualization</a></li><li><a href="../../../../getting_started/ide.html">Code development</a></li><li><a href="../../../../getting_started/docs.html">Browse the documentation locally</a></li></ul><ul class="dropdown-content" id="8c450cc7-0de7-4ca7-843f-b673ced2a32f"><li><a href="../../../../tutorials/01_small_deformation_elasticity.html">1. Small deformation</a></li><li><a href="../../../../tutorials/02_mode1_brittle_fracture.html">2. Mode-I fracture</a></li><li><a href="../../../../tutorials/03_mode2_brittle_fracture.html">3. Mode-II fracture</a></li><li><a href="../../../../tutorials/04_fiber_reinforced_matrix.html">4. Fiber-reinforced matrix</a></li><li><a href="../../../../tutorials/05_soil_desiccation.html">5. Soil desiccation</a></li><li><a href="../../../../tutorials/06_large_deformation_elasticity.html">6. Large deformation</a></li><li><a href="../../../../tutorials/07_elastoplasticity.html">7. Elastoplasticity</a></li><li><a href="../../../../tutorials/08_ductile_fracture.html">8. Ductile fracture</a></li><li><a href="../../../../tutorials/09_three_point_bending.html">9. Three-point bending</a></li><li><a href="../../../../tutorials/10_quenching_bibeam.html">10. Quenching of bi-beam</a></li><li><a href="../../../../tutorials/11_adaptivity.html">11. Adaptive mesh refinement</a></li><li><a href="../../../../tutorials/12_nucleation.html">12. Crack nucleation</a></li><li><a href="../../../../tutorials/13_traction_separation.html">13. Traction separation law</a></li><li><a href="../../../../tutorials/14_klexpansion.html">14. Random field generation</a></li><li><a href="../../../../tutorials/15_mosaic_patches.html">15. Mosaic field generation</a></li></ul><ul class="dropdown-content" id="642006a8-e962-48d7-a652-de36a91885ab"><li><a href="../../../../theory/intro.html">Introduction</a></li><li><a href="../../../../theory/kinematics.html">State variables and kinematics</a></li><li><a href="../../../../theory/thermodynamics.html">Thermodynamics</a></li><li><a href="../../../../theory/minimization.html">The minimization problem</a></li><li><a href="../../../../theory/constitutive_models.html">Constitutive Models</a></li></ul><ul class="dropdown-content" id="8bb592a1-f090-4aa8-8e6e-fef59317d180"><li><a href="../../../index.html">Physics modules</a></li><li><a href="../../../../syntax/index.html">Complete syntax</a></li><li><a href="../../../../syntax/raccoon.html">RACCOON syntax</a></li><li><a href="../../../../syntax/solid_mechanics.html">Solid mechanics syntax</a></li><li><a href="../../../../syntax/phase_field.html">Phase field syntax</a></li><li><a href="../../../../syntax/heat_transfer.html">Heat conduction syntax</a></li></ul></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="gcse-search"></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="moose-content col s12 m12 l12"><section id="1ee2c9da-c537-4242-84c8-371c45a23799" data-section-level="1" data-section-text="Step 4 - Multiple submeshes"><h1 id="step-4-multiple-submeshes">Step 4 - Multiple submeshes</h1><p>As a final step in the solid mechanics section of this tutorial we&#x27;ll set up a pair of separate mesh blocks - two cantilevers side by side, fixed at the bottom, that will be pushed towards each other with pressure boundary conditions.</p><pre style="max-height:350px;"><code class="language-moose">#
# Multiple submesh setup with two cantilevers side by side
# https://mooseframework.inl.gov/modules/solid_mechanics/tutorials/introduction/step04.html
#

[GlobalParams&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../../syntax/GlobalParams/index.html&quot;}&gt;&gt;&gt;]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Mesh&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../../syntax/Mesh/index.html&quot;}&gt;&gt;&gt;]
  [generated1]
    type = GeneratedMeshGenerator&lt;&lt;&lt;{&quot;description&quot;: &quot;Create a line, square, or cube mesh with uniformly spaced or biased elements.&quot;, &quot;href&quot;: &quot;../../../../source/meshgenerators/GeneratedMeshGenerator.html&quot;}&gt;&gt;&gt;
    dim&lt;&lt;&lt;{&quot;description&quot;: &quot;The dimension of the mesh to be generated&quot;}&gt;&gt;&gt; = 2
    nx&lt;&lt;&lt;{&quot;description&quot;: &quot;Number of elements in the X direction&quot;}&gt;&gt;&gt; = 5
    ny&lt;&lt;&lt;{&quot;description&quot;: &quot;Number of elements in the Y direction&quot;}&gt;&gt;&gt; = 15
    xmin&lt;&lt;&lt;{&quot;description&quot;: &quot;Lower X Coordinate of the generated mesh&quot;}&gt;&gt;&gt; = -0.6
    xmax&lt;&lt;&lt;{&quot;description&quot;: &quot;Upper X Coordinate of the generated mesh&quot;}&gt;&gt;&gt; = -0.1
    ymax&lt;&lt;&lt;{&quot;description&quot;: &quot;Upper Y Coordinate of the generated mesh&quot;}&gt;&gt;&gt; = 5
    bias_y&lt;&lt;&lt;{&quot;description&quot;: &quot;The amount by which to grow (or shrink) the cells in the y-direction.&quot;}&gt;&gt;&gt; = 0.9
    boundary_name_prefix&lt;&lt;&lt;{&quot;description&quot;: &quot;If provided, prefix the built in boundary names with this string&quot;}&gt;&gt;&gt; = pillar1
  []
  [generated2]
    type = GeneratedMeshGenerator&lt;&lt;&lt;{&quot;description&quot;: &quot;Create a line, square, or cube mesh with uniformly spaced or biased elements.&quot;, &quot;href&quot;: &quot;../../../../source/meshgenerators/GeneratedMeshGenerator.html&quot;}&gt;&gt;&gt;
    dim&lt;&lt;&lt;{&quot;description&quot;: &quot;The dimension of the mesh to be generated&quot;}&gt;&gt;&gt; = 2
    nx&lt;&lt;&lt;{&quot;description&quot;: &quot;Number of elements in the X direction&quot;}&gt;&gt;&gt; = 4
    ny&lt;&lt;&lt;{&quot;description&quot;: &quot;Number of elements in the Y direction&quot;}&gt;&gt;&gt; = 15
    xmin&lt;&lt;&lt;{&quot;description&quot;: &quot;Lower X Coordinate of the generated mesh&quot;}&gt;&gt;&gt; = 0.1
    xmax&lt;&lt;&lt;{&quot;description&quot;: &quot;Upper X Coordinate of the generated mesh&quot;}&gt;&gt;&gt; = 0.6
    ymax&lt;&lt;&lt;{&quot;description&quot;: &quot;Upper Y Coordinate of the generated mesh&quot;}&gt;&gt;&gt; = 5
    bias_y&lt;&lt;&lt;{&quot;description&quot;: &quot;The amount by which to grow (or shrink) the cells in the y-direction.&quot;}&gt;&gt;&gt; = 0.9
    boundary_name_prefix&lt;&lt;&lt;{&quot;description&quot;: &quot;If provided, prefix the built in boundary names with this string&quot;}&gt;&gt;&gt; = pillar2
    boundary_id_offset&lt;&lt;&lt;{&quot;description&quot;: &quot;This offset is added to the generated boundary IDs&quot;}&gt;&gt;&gt; = 4
  []
  [collect_meshes]
    type = MeshCollectionGenerator&lt;&lt;&lt;{&quot;description&quot;: &quot;Collects multiple meshes into a single (unconnected) mesh.&quot;, &quot;href&quot;: &quot;../../../../source/meshgenerators/MeshCollectionGenerator.html&quot;}&gt;&gt;&gt;
    inputs&lt;&lt;&lt;{&quot;description&quot;: &quot;The input MeshGenerators.&quot;}&gt;&gt;&gt; = &#x27;generated1 generated2&#x27;
  []
[]

[Physics&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../../syntax/Physics/index.html&quot;}&gt;&gt;&gt;/SolidMechanics&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../../syntax/Physics/SolidMechanics/index.html&quot;}&gt;&gt;&gt;/QuasiStatic&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../../syntax/Physics/SolidMechanics/QuasiStatic/index.html&quot;}&gt;&gt;&gt;]
  [all]
    add_variables&lt;&lt;&lt;{&quot;description&quot;: &quot;Add the displacement variables&quot;}&gt;&gt;&gt; = true
    # we anticipate large deformation
    strain&lt;&lt;&lt;{&quot;description&quot;: &quot;Strain formulation&quot;}&gt;&gt;&gt; = FINITE
  []
[]

[BCs&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../../syntax/BCs/index.html&quot;}&gt;&gt;&gt;]
  [bottom_x]
    type = DirichletBC&lt;&lt;&lt;{&quot;description&quot;: &quot;Imposes the essential boundary condition $u=g$, where $g$ is a constant, controllable value.&quot;, &quot;href&quot;: &quot;../../../../source/bcs/DirichletBC.html&quot;}&gt;&gt;&gt;
    variable&lt;&lt;&lt;{&quot;description&quot;: &quot;The name of the variable that this residual object operates on&quot;}&gt;&gt;&gt; = disp_x
    boundary&lt;&lt;&lt;{&quot;description&quot;: &quot;The list of boundary IDs from the mesh where this object applies&quot;}&gt;&gt;&gt; = &#x27;pillar1_bottom pillar2_bottom&#x27;
    value&lt;&lt;&lt;{&quot;description&quot;: &quot;Value of the BC&quot;}&gt;&gt;&gt; = 0
  []
  [bottom_y]
    type = DirichletBC&lt;&lt;&lt;{&quot;description&quot;: &quot;Imposes the essential boundary condition $u=g$, where $g$ is a constant, controllable value.&quot;, &quot;href&quot;: &quot;../../../../source/bcs/DirichletBC.html&quot;}&gt;&gt;&gt;
    variable&lt;&lt;&lt;{&quot;description&quot;: &quot;The name of the variable that this residual object operates on&quot;}&gt;&gt;&gt; = disp_y
    boundary&lt;&lt;&lt;{&quot;description&quot;: &quot;The list of boundary IDs from the mesh where this object applies&quot;}&gt;&gt;&gt; = &#x27;pillar1_bottom pillar2_bottom&#x27;
    value&lt;&lt;&lt;{&quot;description&quot;: &quot;Value of the BC&quot;}&gt;&gt;&gt; = 0
  []
  [Pressure&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../../syntax/BCs/Pressure/index.html&quot;}&gt;&gt;&gt;]
    [sides]
      boundary&lt;&lt;&lt;{&quot;description&quot;: &quot;The list of boundaries (ids or names) from the mesh where this object applies&quot;}&gt;&gt;&gt; = &#x27;pillar1_left pillar2_right&#x27;
      function&lt;&lt;&lt;{&quot;description&quot;: &quot;The function that describes the pressure&quot;}&gt;&gt;&gt; = 1e4*t
    []
  []
[]

[Materials&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../../syntax/Materials/index.html&quot;}&gt;&gt;&gt;]
  [elasticity]
    type = ComputeIsotropicElasticityTensor&lt;&lt;&lt;{&quot;description&quot;: &quot;Compute a constant isotropic elasticity tensor.&quot;, &quot;href&quot;: &quot;../../../../source/materials/ComputeIsotropicElasticityTensor.html&quot;}&gt;&gt;&gt;
    youngs_modulus&lt;&lt;&lt;{&quot;description&quot;: &quot;Young&#x27;s modulus of the material.&quot;}&gt;&gt;&gt; = 1e9
    poissons_ratio&lt;&lt;&lt;{&quot;description&quot;: &quot;Poisson&#x27;s ratio for the material.&quot;}&gt;&gt;&gt; = 0.3
  []
  # we anticipate large deformation
  [stress]
    type = ComputeFiniteStrainElasticStress&lt;&lt;&lt;{&quot;description&quot;: &quot;Compute stress using elasticity for finite strains&quot;, &quot;href&quot;: &quot;../../../../source/materials/ComputeFiniteStrainElasticStress.html&quot;}&gt;&gt;&gt;
  []
[]

[Executioner&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../../syntax/Executioner/index.html&quot;}&gt;&gt;&gt;]
  type = Transient
  solve_type = NEWTON
  line_search = none
  petsc_options_iname = &#x27;-pc_type&#x27;
  petsc_options_value = &#x27;lu&#x27;
  end_time = 5
  dt = 0.5
  [Predictor&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../../syntax/Executioner/Predictor/index.html&quot;}&gt;&gt;&gt;]
    type = SimplePredictor
    scale = 1
  []
[]

[Outputs&lt;&lt;&lt;{&quot;href&quot;: &quot;../../../../syntax/Outputs/index.html&quot;}&gt;&gt;&gt;]
  exodus&lt;&lt;&lt;{&quot;description&quot;: &quot;Output the results using the default settings for Exodus output.&quot;}&gt;&gt;&gt; = true
[]</code></pre><a class="moose-source-filename tooltipped modal-trigger" href="#c76e4f0a-6fba-4807-8992-969643b5a71b">(moose/modules/solid_mechanics/tutorials/introduction/mech_step04.i)</a><section id="94baa6dc-7cfe-4970-b8b4-d50d5bc81782" data-section-level="2" data-section-text="Input file"><h2 id="input-file">Input file</h2><section id="a9f56502-eb53-4a6d-806e-de6e82ef5945" data-section-level="3" data-section-text="Mesh"><h3><code>Mesh</code></h3><p>We again are using multiple mesh generators to set up a more complex mesh. You could also use a meshing software, such as Cubit or Gmsh to create your geometry and mesh - and will most definitely have to do so when modeling complex geometries for which no specialized mesh generators are provided. It is crucial to assign block and boundary IDs and names to your meshes so you can apply material models and boundary conditions.</p><p>Here we are using the familiar <a href="../../../../source/meshgenerators/GeneratedMeshGenerator.html"><code>GeneratedMeshGenerator</code></a>, but with a few more options than last time. Note how we&#x27;re specifying the extent of the mesh with the <a href="#8f544f4d-0cb5-4557-b6f2-240a768698ac" class="moose-modal-link modal-trigger">&quot;xmin&quot;</a> and <a href="#5ac56c62-441c-4a3d-af85-ad810976a935" class="moose-modal-link modal-trigger">&quot;xmax&quot;</a> parameters (we keep the default value for <a href="#918c7fde-9177-4d99-8861-132877d2a4dc" class="moose-modal-link modal-trigger">&quot;ymin&quot;</a>, which is 0). We also use the <a href="#c9910e5a-283a-4b7c-a037-8aeaf6a2077d" class="moose-modal-link modal-trigger">&quot;bias_y&quot;</a> parameter to have the element height in the mesh gradually shrink towards the top (you will see later why that is a good idea). <a href="#b0cd03fb-742d-44da-9b5d-b20c5023612f" class="moose-modal-link modal-trigger">&quot;boundary_name_prefix&quot;</a> adds a prefix string to the names of the default boundaries that the GeneratedMeshGenerator sets up (<code>left</code>, <code>right</code>, <code>top</code>, <code>bottom</code> (for &gt;=2D), <code>front</code>, and <code>back</code> (for 3D)). The <code>generated</code> block will create a mesh with the boundaries <code>pillar1_left</code>, <code>pillar1_right</code>, <code>pillar1_top</code>, and <code>pillar1_bottom</code>.</p><p>The <code>generated2</code> generator will set up the second pillar and works very much like the first, except that we are also adding the <a href="#095f1576-ee75-410a-8249-5444774f2a5a" class="moose-modal-link modal-trigger">&quot;boundary_id_offset&quot;</a> to ensure that the boundaries of the second pillar have their own unique IDs (this is done by shifting the default IDs of the four boundaries by 4 so they don&#x27;t overlap with the IDs of pillar1).</p><div class="card moose-alert moose-alert-note"><div class="card-title moose-alert-title"><i class="material-icons moose-inline-icon">comment</i><span class="moose-alert-title-brand">note</span></div><div class="card-content"><div class="moose-alert-content"><p>When modeling the deformation/bending of walls with solid elements make sure to mesh at least about <em>five</em> elements through the wall thickness!</p></div></div></div><p>The <a href="../../../../source/meshgenerators/MeshCollectionGenerator.html"><code>MeshCollectionGenerator</code></a> then combines the two separate pillar mesh objects into a single mesh object that contains all elements from both meshes. Note that this does <strong>not</strong> mean the two meshes are glued together or connected in any way! Also, in contrast to the previous step the mesh generators do not form a <em>chain</em>, but they form a tree structure. The important thing for MOOSE is that a single generator sits at the end of such a chain or root of such a tree (otherwise MOOSE will complain with an error message).</p></section><section id="26235fc0-b0a2-4841-bc2a-6537998c4324" data-section-level="3" data-section-text="SolidMechanics QuasiStatic Physics"><h3 id="solidmechanics-quasistatic-physics">SolidMechanics QuasiStatic Physics</h3><p>As discussed previously, when we expect large deformation we need to make sure we select the correct strain formulation. So here we select finite strain.</p></section><section id="9d018db3-1870-4408-9ca1-45f6348c4b2e" data-section-level="3" data-section-text="BCs"><h3><code>BCs</code></h3><p>The boundary conditions should look familiar. Note how we can specify multiple boundaries for every boundary condition (or Pressure action).</p></section><section id="6f6d759f-3f7e-4526-acfb-6ac09e4d82ed" data-section-level="3" data-section-text="Materials"><h3><code>Materials</code></h3><p>We select <a href="../../../../source/materials/ComputeFiniteStrainElasticStress.html"><code>ComputeFiniteStrainElasticStress</code></a> as the elastic stress calculator for the finite strain formulation.</p></section><section id="43683417-f85b-4c04-a161-b8be28658787" data-section-level="3" data-section-text="Executioner"><h3><code>Executioner</code></h3><p>Some more tweaks are made to the Executioner block:</p><ul class="browser-default"><li><p>We disable <a href="#a031b6ec-dd30-4020-8cb2-5b60c5f6600b" class="moose-modal-link modal-trigger">&quot;line_search&quot;</a>. Line searches can accelerate the convergence of the linear system, but here it does more harm than good (check for yourself by commenting out this option). </p></li><li><p>We add a predictor to accelerate the solve. The <code>SimplePredictor</code> extrapolates an initial guess for the current time step from the two previous time steps. Especially with a Newton solve a good initial guess can lead to drastically improved convergence.</p></li></ul></section></section><section id="cafcf9c2-d9b3-41eb-8830-2da21f28cb24" data-section-level="2" data-section-text="Questions"><h2 id="questions">Questions</h2><section id="81b7ec85-ad25-455b-be30-22a5296a7661" data-section-level="3" data-section-text="Expected outcome"><h3 id="expected-outcome">Expected outcome</h3><p>First off, run the simulation and look at the result.</p><blockquote><p>What do you observe (does it meet your expectations)?</p></blockquote><p><a href="answer04a.html">Click here for the answer.</a></p></section><section id="394af776-89be-4153-b667-01dafa81c873" data-section-level="3" data-section-text="Convergence"><h3 id="convergence">Convergence</h3><p>Getting a problem to converge optimally can be tricky. Try a few different things</p><ul class="browser-default"><li><p>Remove all petsc options and check how the problem converges with the default ILU preconditioner </p></li><li><p>comment out the <code>line_search</code> option </p></li><li><p>remove the predictor</p></li></ul><blockquote><p>Check the consequence of these changes. You can inspect internal performance metrics of MOOSE by adding the option <code>perf_graph = true</code> in the <code>[Outputs]</code> block!</p></blockquote></section><section id="bff759ed-2758-47b6-b281-3b662f636e62" data-section-level="3" data-section-text="Iterative preconditioning"><h3 id="iterative-preconditioning">Iterative preconditioning</h3><p>Check how the problem converges with the following PETSc options</p><pre style="max-height:350px;"><code class="language-text">
petsc_options_iname = &#x27;-pc_type -pc_hypre_type&#x27;
petsc_options_value = &#x27;hypre boomeramg&#x27;
</code></pre><p>This enables a very scalable algebraic multigrid (AMG) preconditioner, provided by the <a href="https://computing.llnl.gov/projects/hypre-scalable-linear-solvers-multigrid-methods/software">Hypre</a> library.</p></section><section id="ff2e3cdb-498f-4e9e-bb36-63b58861b2b7" data-section-level="3" data-section-text="Postprocessing results"><h3 id="postprocessing-results">Postprocessing results</h3><p>MOOSE has a system of so called <a href="../../../../syntax/Postprocessors/index.html">Postprocessors</a> that can extract scalar quantities for a simulation while it runs. These quantities can be printed on the screen in real time or written to files for later analysis. You add postprocessors under the <code>[Postprocessors]</code> top level block.</p><p>File output of postprocessors is enabled by adding the <code>csv = true</code> option in the <code>[Outputs]</code> block.</p><blockquote><p>Let&#x27;s see if we can extract the x deflection of the left cantilever. It should be a positive value and the scalar we can extract is the maximum <code>disp_x</code> value in the simulation cell (the left cantilever has positive displacements as it bends right in the positive x direction, while the right cantilever has negative displacements as it bends left in the negative x direction). So we need a postprocessor object that gives us an extreme value of a given variable. Take a look at <a href="../../../../source/postprocessors/NodalExtremeValue.html">NodalExtremeValue</a> and try to set it up to output the maximum positive x deflection.</p></blockquote><p><a href="answer04b.html">Click here for the answer.</a></p></section><section id="e4ec60a4-44f1-424a-b91b-f393f8a09274" data-section-level="3" data-section-text="Sidebar : Volumetric locking"><h3 id="sidebar-volumetric-locking">Sidebar: Volumetric locking</h3><p><a href="../../VolumetricLocking.html">Volumetric locking</a> can occur in mechanics simulations of near incompressible materials if the elements (and associated shape functions) cannot accommodate the incompressibility constraint.</p><blockquote><p>Keep the postprocessing modifications from the previous question, set the <a href="#72a3e906-8137-4f30-ad4d-5e64258b4e51" class="moose-modal-link modal-trigger">&quot;poissons_ratio&quot;</a> of the cantilevers to <code>0.49</code>. Then add and modify the following parameters</p><ul class="browser-default"><li><p><a href="#6d459c7b-518a-4236-b255-8cdbceea03b2" class="moose-modal-link modal-trigger">&quot;uniform_refine&quot;</a> in the <code>[Mesh]</code> block </p></li><li><p><a href="#827f30a0-0d49-49e0-8984-dc40ee927828" class="moose-modal-link modal-trigger">&quot;volumetric_locking_correction&quot;</a> in the solid mechanics quasi-static physics block </p></li><li><p><a href="#f61b1a5f-2878-4139-8d1e-d0c982fd8278" class="moose-modal-link modal-trigger">&quot;elem_type&quot;</a> in the <code>GeneratedMeshGenerator</code> blocks</p></li></ul><p>For convenience all those parameters may be listed under <code>[GlobalParams]</code> instead. Compare first order QUAD4 elements to second order QUAD8 elements, compare the cantilever deflection with and without volumetric locking correction (with QUAD4 elements), and compare the result for different levels of uniform refinement (1, 2, 3, 4).</p></blockquote><p><a href="step04a.html">Click here for the sidebar on volumetric locking.</a></p><p>Once you&#x27;ve answered the questions and run this example we will move on to Step 1 of the contact tutorial, which builds on this step. </p></section></section></section><div class="moose-modal modal" id="c76e4f0a-6fba-4807-8992-969643b5a71b"><div class="modal-content"><h4>(moose/modules/solid_mechanics/tutorials/introduction/mech_step04.i)</h4><pre style="max-height:350px;"><code class="language-moose">#
# Multiple submesh setup with two cantilevers side by side
# https://mooseframework.inl.gov/modules/solid_mechanics/tutorials/introduction/step04.html
#

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Mesh]
  [generated1]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 5
    ny = 15
    xmin = -0.6
    xmax = -0.1
    ymax = 5
    bias_y = 0.9
    boundary_name_prefix = pillar1
  []
  [generated2]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 4
    ny = 15
    xmin = 0.1
    xmax = 0.6
    ymax = 5
    bias_y = 0.9
    boundary_name_prefix = pillar2
    boundary_id_offset = 4
  []
  [collect_meshes]
    type = MeshCollectionGenerator
    inputs = &#x27;generated1 generated2&#x27;
  []
[]

[Physics/SolidMechanics/QuasiStatic]
  [all]
    add_variables = true
    # we anticipate large deformation
    strain = FINITE
  []
[]

[BCs]
  [bottom_x]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;pillar1_bottom pillar2_bottom&#x27;
    value = 0
  []
  [bottom_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;pillar1_bottom pillar2_bottom&#x27;
    value = 0
  []
  [Pressure]
    [sides]
      boundary = &#x27;pillar1_left pillar2_right&#x27;
      function = 1e4*t
    []
  []
[]

[Materials]
  [elasticity]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 1e9
    poissons_ratio = 0.3
  []
  # we anticipate large deformation
  [stress]
    type = ComputeFiniteStrainElasticStress
  []
[]

[Executioner]
  type = Transient
  solve_type = NEWTON
  line_search = none
  petsc_options_iname = &#x27;-pc_type&#x27;
  petsc_options_value = &#x27;lu&#x27;
  end_time = 5
  dt = 0.5
  [Predictor]
    type = SimplePredictor
    scale = 1
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="moose-modal modal" id="8f544f4d-0cb5-4557-b6f2-240a768698ac"><div class="modal-content"><h4>xmin</h4><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-doc-unit"><span>Unit:</span>(no unit assumed)</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Lower X Coordinate of the generated mesh</p></div></div><div class="moose-modal modal" id="5ac56c62-441c-4a3d-af85-ad810976a935"><div class="modal-content"><h4>xmax</h4><p class="moose-parameter-description-default"><span>Default:</span>1</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-doc-unit"><span>Unit:</span>(no unit assumed)</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Upper X Coordinate of the generated mesh</p></div></div><div class="moose-modal modal" id="918c7fde-9177-4d99-8861-132877d2a4dc"><div class="modal-content"><h4>ymin</h4><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-doc-unit"><span>Unit:</span>(no unit assumed)</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Lower Y Coordinate of the generated mesh</p></div></div><div class="moose-modal modal" id="c9910e5a-283a-4b7c-a037-8aeaf6a2077d"><div class="modal-content"><h4>bias_y</h4><p class="moose-parameter-description-default"><span>Default:</span>1</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-doc-unit"><span>Unit:</span>(no unit assumed)</p><p class="moose-parameter-description-doc-range"><span>Range:</span>bias_y>=0.5 & bias_y<=2</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>The amount by which to grow (or shrink) the cells in the y-direction.</p></div></div><div class="moose-modal modal" id="b0cd03fb-742d-44da-9b5d-b20c5023612f"><div class="modal-content"><h4>boundary_name_prefix</h4><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::string</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>If provided, prefix the built in boundary names with this string</p></div></div><div class="moose-modal modal" id="095f1576-ee75-410a-8249-5444774f2a5a"><div class="modal-content"><h4>boundary_id_offset</h4><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>short</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>This offset is added to the generated boundary IDs</p></div></div><div class="moose-modal modal" id="a031b6ec-dd30-4020-8cb2-5b60c5f6600b"><div class="modal-content"><h4>line_search</h4><p class="moose-parameter-description-default"><span>Default:</span>default</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>basic, bt, contact, cp, default, l2, none, project, shell</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Specifies the line search type (Note: none = basic)</p></div></div><div class="moose-modal modal" id="72a3e906-8137-4f30-ad4d-5e64258b4e51"><div class="modal-content"><h4>poissons_ratio</h4><p class="moose-parameter-description-default"><span>Default:</span>-1</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-doc-unit"><span>Unit:</span>(no unit assumed)</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>Yes</p><p class="moose-parameter-description"><span>Description:</span>Poisson's ratio for the material.</p></div></div><div class="moose-modal modal" id="6d459c7b-518a-4236-b255-8cdbceea03b2"><div class="modal-content"><h4>uniform_refine</h4><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Specify the level of uniform refinement applied to the initial mesh</p></div></div><div class="moose-modal modal" id="827f30a0-0d49-49e0-8984-dc40ee927828"><div class="modal-content"><h4>volumetric_locking_correction</h4><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Flag to correct volumetric locking</p></div></div><div class="moose-modal modal" id="f61b1a5f-2878-4139-8d1e-d0c982fd8278"><div class="modal-content"><h4>elem_type</h4><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>EDGE, EDGE2, EDGE3, EDGE4, QUAD, QUAD4, QUAD8, QUAD9, TRI, TRI3, TRI6, TRI7, HEX, HEX8, HEX20, HEX27, TET, TET4, TET10, TET14, PRISM, PRISM6, PRISM15, PRISM18, PYRAMID, PYRAMID5, PYRAMID13, PYRAMID14</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>The type of element from libMesh to generate (default: linear element for requested dimension)</p></div></div></div></div></div></main></div></body><script type="text/javascript" src="../../../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../../../js/init.js"></script><script type="text/javascript" src="../../../../js/navigation.js"></script><script type="text/javascript" src="https://cse.google.com/cse.js?cx=008852834041008754713:g3ilnhhbbj9"></script><script type="text/javascript" src="../../../../js/sqa_moose.js"></script><script type="text/javascript" src="../../../../js/moose_input_parser.js"></script>