<!DOCTYPE html><head><meta charset="UTF-8"><title>Custom Phase Field Actions | RACCOON</title><link rel="icon" type="image/x-icon" href="../../media/raccoon_icon.png" sizes="16x16 32x32 64x64 128x128"></link><link href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/devel_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/civet_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../contrib/jquery/jquery.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="../../index.html" class="left moose-logo hide-on-med-and-down" id="home-button">RACCOON</a><a href="https://github.com/hugary1995/raccoon" class="right"><img src="../../media/framework/github-logo.png" alt="GitHub wordmark" class="github-mark"></img><img src="../../media/framework/github-mark.png" alt="GitHub logo" class="github-logo"></img></a><ul class="right hide-on-med-and-down"><li><a href="#!" class="dropdown-trigger" data-target="cc1747ee-f588-4862-ad8e-2f4e4aa2d41f" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="8a50e7df-9d08-4c79-9e2c-1b7cb7f34a54" data-constrainWidth="false">Tutorials<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="ee2d86fe-1696-4c64-b43d-3d971c663a60" data-constrainWidth="false">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="b9754517-8450-46f5-9d94-ae9909a18e88" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../contribute/index.html">Contribute</a></li></ul><a href="#" class="sidenav-trigger" data-target="81ac76a8-3d87-4064-8da5-6dee7dd88803"><i class="material-icons">menu</i></a><ul class="sidenav" id="81ac76a8-3d87-4064-8da5-6dee7dd88803"><li><a href="#!" class="dropdown-trigger" data-target="af3312f5-9419-449c-b0d3-c0bcc9167773" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="88afb914-0f0f-4e6c-aa23-470c7bff8750" data-constrainWidth="false">Tutorials<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="e2ce84b5-d4fb-48f0-83f0-9e95ace307f3" data-constrainWidth="false">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="eaa08bc4-c381-4a77-9a4d-c8d99c0a3afc" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../contribute/index.html">Contribute</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div><ul class="dropdown-content" id="cc1747ee-f588-4862-ad8e-2f4e4aa2d41f"><li><a href="../../getting_started/install.html">Install RACCOON</a></li><li><a href="../../getting_started/update.html">Update RACCOON</a></li><li><a href="../../getting_started/running.html">Running your first model</a></li><li><a href="../../getting_started/paraview.html">Visualization</a></li><li><a href="../../getting_started/ide.html">Code development</a></li><li><a href="../../getting_started/docs.html">Browse the documentation locally</a></li></ul><ul class="dropdown-content" id="8a50e7df-9d08-4c79-9e2c-1b7cb7f34a54"><li><a href="../../tutorials/01_small_deformation_elasticity.html">1. Small deformation</a></li><li><a href="../../tutorials/02_mode1_brittle_fracture.html">2. Mode-I fracture</a></li><li><a href="../../tutorials/03_mode2_brittle_fracture.html">3. Mode-II fracture</a></li><li><a href="../../tutorials/04_fiber_reinforced_matrix.html">4. Fiber-reinforced matrix</a></li><li><a href="../../tutorials/05_soil_desiccation.html">5. Soil desiccation</a></li><li><a href="../../tutorials/06_large_deformation_elasticity.html">6. Large deformation</a></li><li><a href="../../tutorials/07_elastoplasticity.html">7. Elastoplasticity</a></li><li><a href="../../tutorials/08_ductile_fracture.html">8. Ductile fracture</a></li><li><a href="../../tutorials/09_three_point_bending.html">9. Three-point bending</a></li><li><a href="../../tutorials/10_quenching_bibeam.html">10. Quenching of bi-beam</a></li><li><a href="../../tutorials/11_adaptivity.html">11. Adaptive mesh refinement</a></li><li><a href="../../tutorials/12_nucleation.html">12. Crack nucleation</a></li><li><a href="../../tutorials/13_traction_separation.html">13. Traction separation law</a></li><li><a href="../../tutorials/14_klexpansion.html">14. Random field generation</a></li><li><a href="../../tutorials/15_mosaic_patches.html">15. Mosaic field generation</a></li></ul><ul class="dropdown-content" id="ee2d86fe-1696-4c64-b43d-3d971c663a60"><li><a href="../../theory/intro.html">Introduction</a></li><li><a href="../../theory/kinematics.html">State variables and kinematics</a></li><li><a href="../../theory/thermodynamics.html">Thermodynamics</a></li><li><a href="../../theory/minimization.html">The minimization problem</a></li><li><a href="../../theory/constitutive_models.html">Constitutive Models</a></li></ul><ul class="dropdown-content" id="b9754517-8450-46f5-9d94-ae9909a18e88"><li><a href="../index.html">Physics modules</a></li><li><a href="../../syntax/index.html">Complete syntax</a></li><li><a href="../../syntax/raccoon.html">RACCOON syntax</a></li><li><a href="../../syntax/solid_mechanics.html">Solid mechanics syntax</a></li><li><a href="../../syntax/phase_field.html">Phase field syntax</a></li><li><a href="../../syntax/heat_transfer.html">Heat conduction syntax</a></li></ul><ul class="dropdown-content" id="af3312f5-9419-449c-b0d3-c0bcc9167773"><li><a href="../../getting_started/install.html">Install RACCOON</a></li><li><a href="../../getting_started/update.html">Update RACCOON</a></li><li><a href="../../getting_started/running.html">Running your first model</a></li><li><a href="../../getting_started/paraview.html">Visualization</a></li><li><a href="../../getting_started/ide.html">Code development</a></li><li><a href="../../getting_started/docs.html">Browse the documentation locally</a></li></ul><ul class="dropdown-content" id="88afb914-0f0f-4e6c-aa23-470c7bff8750"><li><a href="../../tutorials/01_small_deformation_elasticity.html">1. Small deformation</a></li><li><a href="../../tutorials/02_mode1_brittle_fracture.html">2. Mode-I fracture</a></li><li><a href="../../tutorials/03_mode2_brittle_fracture.html">3. Mode-II fracture</a></li><li><a href="../../tutorials/04_fiber_reinforced_matrix.html">4. Fiber-reinforced matrix</a></li><li><a href="../../tutorials/05_soil_desiccation.html">5. Soil desiccation</a></li><li><a href="../../tutorials/06_large_deformation_elasticity.html">6. Large deformation</a></li><li><a href="../../tutorials/07_elastoplasticity.html">7. Elastoplasticity</a></li><li><a href="../../tutorials/08_ductile_fracture.html">8. Ductile fracture</a></li><li><a href="../../tutorials/09_three_point_bending.html">9. Three-point bending</a></li><li><a href="../../tutorials/10_quenching_bibeam.html">10. Quenching of bi-beam</a></li><li><a href="../../tutorials/11_adaptivity.html">11. Adaptive mesh refinement</a></li><li><a href="../../tutorials/12_nucleation.html">12. Crack nucleation</a></li><li><a href="../../tutorials/13_traction_separation.html">13. Traction separation law</a></li><li><a href="../../tutorials/14_klexpansion.html">14. Random field generation</a></li><li><a href="../../tutorials/15_mosaic_patches.html">15. Mosaic field generation</a></li></ul><ul class="dropdown-content" id="e2ce84b5-d4fb-48f0-83f0-9e95ace307f3"><li><a href="../../theory/intro.html">Introduction</a></li><li><a href="../../theory/kinematics.html">State variables and kinematics</a></li><li><a href="../../theory/thermodynamics.html">Thermodynamics</a></li><li><a href="../../theory/minimization.html">The minimization problem</a></li><li><a href="../../theory/constitutive_models.html">Constitutive Models</a></li></ul><ul class="dropdown-content" id="eaa08bc4-c381-4a77-9a4d-c8d99c0a3afc"><li><a href="../index.html">Physics modules</a></li><li><a href="../../syntax/index.html">Complete syntax</a></li><li><a href="../../syntax/raccoon.html">RACCOON syntax</a></li><li><a href="../../syntax/solid_mechanics.html">Solid mechanics syntax</a></li><li><a href="../../syntax/phase_field.html">Phase field syntax</a></li><li><a href="../../syntax/heat_transfer.html">Heat conduction syntax</a></li></ul></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="gcse-search"></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="moose-content col s12 m12 l12"><section id="777f6020-2ce3-457b-a13c-293ebc17cb1c" data-section-level="1" data-section-text="Custom Phase Field Actions"><h1 id="custom-phase-field-actions">Custom Phase Field Actions</h1><p>To simplify the formation of input files that use standard Allen-Cahn and Cahn-Hilliard equations, custom actions have been created that automatically create conserved and nonconserved phase field field variables and all the corresponding kernels. Additional kernels can still be added using standard MOOSE syntax.</p><p>The actions are in the phase field block, under the modules block. Nonconserved variables are created using <a href="../../source/actions/NonconservedAction.html">NonconservedAction</a>. For an example, see</p><pre style="max-height:350px;"><code class="language-moose">[Modules&lt;&lt;&lt;{&quot;href&quot;: &quot;../../syntax/Modules/index.html&quot;}&gt;&gt;&gt;]
  [./PhaseField&lt;&lt;&lt;{&quot;href&quot;: &quot;../../syntax/Modules/PhaseField/index.html&quot;}&gt;&gt;&gt;]
    [./Nonconserved&lt;&lt;&lt;{&quot;href&quot;: &quot;../../syntax/Modules/PhaseField/Nonconserved/index.html&quot;}&gt;&gt;&gt;]
      [./eta]
        free_energy&lt;&lt;&lt;{&quot;description&quot;: &quot;Base name of the free energy function F defined in a free energy material&quot;}&gt;&gt;&gt; = F
        kappa&lt;&lt;&lt;{&quot;description&quot;: &quot;The kappa used with the kernel&quot;}&gt;&gt;&gt; = 2.0
        mobility&lt;&lt;&lt;{&quot;description&quot;: &quot;The mobility used with the kernel&quot;}&gt;&gt;&gt; = 1.0
        variable_mobility&lt;&lt;&lt;{&quot;description&quot;: &quot;The mobility is a function of any MOOSE variable (if this is set to false, L must be constant over the entire domain!)&quot;}&gt;&gt;&gt; = false
      [../]
    [../]
  [../]
[]</code></pre><a class="moose-source-filename tooltipped modal-trigger" href="#fe8b8060-fe6f-4f2d-8375-c78c73c01aee">(moose/modules/phase_field/test/tests/actions/Nonconserved_1var.i)</a><p>Conserved variables are created using <a href="../../source/actions/ConservedAction.html">ConservedAction</a>. For an example, See</p><pre style="max-height:350px;"><code class="language-moose">[Modules&lt;&lt;&lt;{&quot;href&quot;: &quot;../../syntax/Modules/index.html&quot;}&gt;&gt;&gt;]
  [./PhaseField&lt;&lt;&lt;{&quot;href&quot;: &quot;../../syntax/Modules/PhaseField/index.html&quot;}&gt;&gt;&gt;]
    [./Conserved&lt;&lt;&lt;{&quot;href&quot;: &quot;../../syntax/Modules/PhaseField/Conserved/index.html&quot;}&gt;&gt;&gt;]
      [./cv]
        solve_type&lt;&lt;&lt;{&quot;description&quot;: &quot;Split or direct solve?&quot;}&gt;&gt;&gt; = REVERSE_SPLIT
        free_energy&lt;&lt;&lt;{&quot;description&quot;: &quot;Base name of the free energy function F defined in a free energy material&quot;}&gt;&gt;&gt; = F
        kappa&lt;&lt;&lt;{&quot;description&quot;: &quot;The kappa used with the kernel&quot;}&gt;&gt;&gt; = 2.0
        mobility&lt;&lt;&lt;{&quot;description&quot;: &quot;The mobility used with the kernel&quot;}&gt;&gt;&gt; = 1.0
      [../]
    [../]
  [../]
[]</code></pre><a class="moose-source-filename tooltipped modal-trigger" href="#55e55557-277d-4572-bab8-7ef49ffbf87a">(moose/modules/phase_field/test/tests/actions/conserved_split_1var.i)</a><p>and</p><pre style="max-height:350px;"><code class="language-moose">[Modules&lt;&lt;&lt;{&quot;href&quot;: &quot;../../syntax/Modules/index.html&quot;}&gt;&gt;&gt;]
  [./PhaseField&lt;&lt;&lt;{&quot;href&quot;: &quot;../../syntax/Modules/PhaseField/index.html&quot;}&gt;&gt;&gt;]
    [./Conserved&lt;&lt;&lt;{&quot;href&quot;: &quot;../../syntax/Modules/PhaseField/Conserved/index.html&quot;}&gt;&gt;&gt;]
      [./cv]
        solve_type&lt;&lt;&lt;{&quot;description&quot;: &quot;Split or direct solve?&quot;}&gt;&gt;&gt; = direct
        free_energy&lt;&lt;&lt;{&quot;description&quot;: &quot;Base name of the free energy function F defined in a free energy material&quot;}&gt;&gt;&gt; = F
        kappa&lt;&lt;&lt;{&quot;description&quot;: &quot;The kappa used with the kernel&quot;}&gt;&gt;&gt; = 2.0
        mobility&lt;&lt;&lt;{&quot;description&quot;: &quot;The mobility used with the kernel&quot;}&gt;&gt;&gt; = 1.0
      [../]
    [../]
  [../]
[]</code></pre><a class="moose-source-filename tooltipped modal-trigger" href="#38b6b431-f33f-41f0-8917-bc6263a66b42">(moose/modules/phase_field/test/tests/actions/conserved_direct_1var.i)</a><section id="f433f840-bba1-4d6f-b03c-79600d2fcdf5" data-section-level="2" data-section-text="See also"><h2 id="see-also">See also</h2><ul class="browser-default"><li><p><a href="FAQ">Phase Field FAQ</a> - Frequently asked questions for MOOSE phase-field models.</p></li></ul></section></section><div class="moose-modal modal" id="fe8b8060-fe6f-4f2d-8375-c78c73c01aee"><div class="modal-content"><h4>(moose/modules/phase_field/test/tests/actions/Nonconserved_1var.i)</h4><pre style="max-height:350px;"><code class="language-moose">#
# Test the parsed function free enery Allen-Cahn Bulk kernel
#

[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 40
  ny = 40
  xmax = 40
  ymax = 40
  elem_type = QUAD
[]

[Modules]
  [./PhaseField]
    [./Nonconserved]
      [./eta]
        free_energy = F
        kappa = 2.0
        mobility = 1.0
        variable_mobility = false
      [../]
    [../]
  [../]
[]

[ICs]
  [./InitialCondition]
    type = SmoothCircleIC
    variable = eta
    x1 = 20.0
    y1 = 20.0
    radius = 6.0
    invalue = 0.9
    outvalue = 0.1
    int_width = 3.0
  [../]
[]

[Materials]
  [./free_energy]
    type = DerivativeParsedMaterial
    property_name = F
    coupled_variables = &#x27;eta&#x27;
    expression = &#x27;2 * eta^2 * (1-eta)^2 - 0.2*eta&#x27;
    derivative_order = 2
  [../]
[]

[Executioner]
  type = Transient
  scheme = &#x27;bdf2&#x27;

  solve_type = &#x27;NEWTON&#x27;

  l_max_its = 15
  l_tol = 1.0e-4

  nl_max_its = 10
  nl_rel_tol = 1.0e-11

  num_steps = 10
  dt = 1.0
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="moose-modal modal" id="55e55557-277d-4572-bab8-7ef49ffbf87a"><div class="modal-content"><h4>(moose/modules/phase_field/test/tests/actions/conserved_split_1var.i)</h4><pre style="max-height:350px;"><code class="language-moose">#
# Test the conserved action with split solve and 1 variable
#
[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 50
  ny = 50
  xmax = 50
  ymax = 50
  elem_type = QUAD
[]

[Modules]
  [./PhaseField]
    [./Conserved]
      [./cv]
        solve_type = REVERSE_SPLIT
        free_energy = F
        kappa = 2.0
        mobility = 1.0
      [../]
    [../]
  [../]
[]

[ICs]
  [./InitialCondition]
    type = CrossIC
    x1 = 5.0
    y1 = 5.0
    x2 = 45.0
    y2 = 45.0
    variable = cv
  [../]
[]

[Materials]
  [./free_energy]
    type = DerivativeParsedMaterial
    property_name = F
    coupled_variables = &#x27;cv&#x27;
    expression = &#x27;(1-cv)^2 * (1+cv)^2&#x27;
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  scheme = &#x27;bdf2&#x27;

  solve_type = &#x27;NEWTON&#x27;

  l_max_its = 30
  l_tol = 1.0e-5
  nl_max_its = 10
  nl_rel_tol = 1.0e-12

  start_time = 0.0
  num_steps = 5
  dt = 0.7
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="moose-modal modal" id="38b6b431-f33f-41f0-8917-bc6263a66b42"><div class="modal-content"><h4>(moose/modules/phase_field/test/tests/actions/conserved_direct_1var.i)</h4><pre style="max-height:350px;"><code class="language-moose">#
# Test consreved action for direct solve
#
[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 16
  ny = 16
  xmax = 50
  ymax = 50
  elem_type = QUAD
[]

[Modules]
  [./PhaseField]
    [./Conserved]
      [./cv]
        solve_type = direct
        free_energy = F
        kappa = 2.0
        mobility = 1.0
      [../]
    [../]
  [../]
[]

[ICs]
  [./InitialCondition]
    type = CrossIC
    x1 = 5.0
    y1 = 5.0
    x2 = 45.0
    y2 = 45.0
    variable = cv
  [../]
[]

[Materials]
  [./free_energy]
    type = DerivativeParsedMaterial
    property_name = F
    coupled_variables = &#x27;cv&#x27;
    expression = &#x27;(1-cv)^2 * (1+cv)^2&#x27;
  [../]
[]

[Executioner]
  type = Transient
  scheme = &#x27;bdf2&#x27;

  solve_type = &#x27;NEWTON&#x27;

  l_max_its = 30
  l_tol = 1.0e-4
  nl_max_its = 10
  nl_rel_tol = 1.0e-10

  start_time = 0.0
  num_steps = 5
  dt = 0.7
[]

[Outputs]
  [./out]
    type = Exodus
    refinements = 2
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div></div></div></div></main></div></body><script type="text/javascript" src="../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../js/init.js"></script><script type="text/javascript" src="../../js/navigation.js"></script><script type="text/javascript" src="https://cse.google.com/cse.js?cx=008852834041008754713:g3ilnhhbbj9"></script><script type="text/javascript" src="../../js/sqa_moose.js"></script><script type="text/javascript" src="../../js/moose_input_parser.js"></script>