<!DOCTYPE html><head><meta charset="UTF-8"><title>ReferenceResidualProblem | RACCOON</title><link rel="icon" type="image/x-icon" href="../../media/raccoon_icon.png" sizes="16x16 32x32 64x64 128x128"></link><link href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/devel_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/civet_moose.css" type="text/css" rel="stylesheet"></link><link href="../../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/katex_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../contrib/jquery/jquery.min.js"></script><script type="text/javascript" src="../../contrib/katex/katex.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="../../index.html" class="left moose-logo hide-on-med-and-down" id="home-button">RACCOON</a><a href="https://github.com/hugary1995/raccoon" class="right"><img src="../../media/framework/github-logo.png" alt="GitHub wordmark" class="github-mark"></img><img src="../../media/framework/github-mark.png" alt="GitHub logo" class="github-logo"></img></a><ul class="right hide-on-med-and-down"><li><a href="#!" class="dropdown-trigger" data-target="45aec0b2-bab1-45c1-9eee-8395821a2601" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="2775a346-4466-4b50-bf59-8bc5675c5b0c" data-constrainWidth="false">Tutorials<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="96b0aaaf-1319-4a1e-a58e-c5cc3367e16d" data-constrainWidth="false">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="dbd5d044-f217-441a-b7f3-bb135aa678cd" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../contribute/index.html">Contribute</a></li></ul><a href="#" class="sidenav-trigger" data-target="28e3123b-beeb-4cca-8708-43d4f212f1cb"><i class="material-icons">menu</i></a><ul class="sidenav" id="28e3123b-beeb-4cca-8708-43d4f212f1cb"><li><a href="#!" class="dropdown-trigger" data-target="76d442f6-2a91-4ad0-8bce-279cab914b2c" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="4232c7de-84ee-4067-90ba-6022a4a56b89" data-constrainWidth="false">Tutorials<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="1a066a8e-d8c0-44e8-b425-2b97dd42db79" data-constrainWidth="false">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="7c2e9500-106a-446d-a916-9a80b5912ea7" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../contribute/index.html">Contribute</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div><ul class="dropdown-content" id="45aec0b2-bab1-45c1-9eee-8395821a2601"><li><a href="../../getting_started/install.html">Install RACCOON</a></li><li><a href="../../getting_started/update.html">Update RACCOON</a></li><li><a href="../../getting_started/running.html">Running your first model</a></li><li><a href="../../getting_started/paraview.html">Visualization</a></li><li><a href="../../getting_started/ide.html">Code development</a></li><li><a href="../../getting_started/docs.html">Browse the documentation locally</a></li></ul><ul class="dropdown-content" id="2775a346-4466-4b50-bf59-8bc5675c5b0c"><li><a href="../../tutorials/01_small_deformation_elasticity.html">1. Small deformation</a></li><li><a href="../../tutorials/02_mode1_brittle_fracture.html">2. Mode-I fracture</a></li><li><a href="../../tutorials/03_mode2_brittle_fracture.html">3. Mode-II fracture</a></li><li><a href="../../tutorials/04_fiber_reinforced_matrix.html">4. Fiber-reinforced matrix</a></li><li><a href="../../tutorials/05_soil_desiccation.html">5. Soil desiccation</a></li><li><a href="../../tutorials/06_large_deformation_elasticity.html">6. Large deformation</a></li><li><a href="../../tutorials/07_elastoplasticity.html">7. Elastoplasticity</a></li><li><a href="../../tutorials/08_ductile_fracture.html">8. Ductile fracture</a></li><li><a href="../../tutorials/09_three_point_bending.html">9. Three-point bending</a></li><li><a href="../../tutorials/10_quenching_bibeam.html">10. Quenching of bi-beam</a></li><li><a href="../../tutorials/11_adaptivity.html">11. Adaptive mesh refinement</a></li><li><a href="../../tutorials/12_nucleation.html">12. Crack nucleation</a></li><li><a href="../../tutorials/13_traction_separation.html">13. Traction separation law</a></li><li><a href="../../tutorials/14_klexpansion.html">14. Random field generation</a></li><li><a href="../../tutorials/15_mosaic_patches.html">15. Mosaic field generation</a></li></ul><ul class="dropdown-content" id="96b0aaaf-1319-4a1e-a58e-c5cc3367e16d"><li><a href="../../theory/intro.html">Introduction</a></li><li><a href="../../theory/kinematics.html">State variables and kinematics</a></li><li><a href="../../theory/thermodynamics.html">Thermodynamics</a></li><li><a href="../../theory/minimization.html">The minimization problem</a></li><li><a href="../../theory/constitutive_models.html">Constitutive Models</a></li></ul><ul class="dropdown-content" id="dbd5d044-f217-441a-b7f3-bb135aa678cd"><li><a href="../../modules/index.html">Physics modules</a></li><li><a href="../../syntax/index.html">Complete syntax</a></li><li><a href="../../syntax/raccoon.html">RACCOON syntax</a></li><li><a href="../../syntax/solid_mechanics.html">Solid mechanics syntax</a></li><li><a href="../../syntax/phase_field.html">Phase field syntax</a></li><li><a href="../../syntax/heat_transfer.html">Heat conduction syntax</a></li></ul><ul class="dropdown-content" id="76d442f6-2a91-4ad0-8bce-279cab914b2c"><li><a href="../../getting_started/install.html">Install RACCOON</a></li><li><a href="../../getting_started/update.html">Update RACCOON</a></li><li><a href="../../getting_started/running.html">Running your first model</a></li><li><a href="../../getting_started/paraview.html">Visualization</a></li><li><a href="../../getting_started/ide.html">Code development</a></li><li><a href="../../getting_started/docs.html">Browse the documentation locally</a></li></ul><ul class="dropdown-content" id="4232c7de-84ee-4067-90ba-6022a4a56b89"><li><a href="../../tutorials/01_small_deformation_elasticity.html">1. Small deformation</a></li><li><a href="../../tutorials/02_mode1_brittle_fracture.html">2. Mode-I fracture</a></li><li><a href="../../tutorials/03_mode2_brittle_fracture.html">3. Mode-II fracture</a></li><li><a href="../../tutorials/04_fiber_reinforced_matrix.html">4. Fiber-reinforced matrix</a></li><li><a href="../../tutorials/05_soil_desiccation.html">5. Soil desiccation</a></li><li><a href="../../tutorials/06_large_deformation_elasticity.html">6. Large deformation</a></li><li><a href="../../tutorials/07_elastoplasticity.html">7. Elastoplasticity</a></li><li><a href="../../tutorials/08_ductile_fracture.html">8. Ductile fracture</a></li><li><a href="../../tutorials/09_three_point_bending.html">9. Three-point bending</a></li><li><a href="../../tutorials/10_quenching_bibeam.html">10. Quenching of bi-beam</a></li><li><a href="../../tutorials/11_adaptivity.html">11. Adaptive mesh refinement</a></li><li><a href="../../tutorials/12_nucleation.html">12. Crack nucleation</a></li><li><a href="../../tutorials/13_traction_separation.html">13. Traction separation law</a></li><li><a href="../../tutorials/14_klexpansion.html">14. Random field generation</a></li><li><a href="../../tutorials/15_mosaic_patches.html">15. Mosaic field generation</a></li></ul><ul class="dropdown-content" id="1a066a8e-d8c0-44e8-b425-2b97dd42db79"><li><a href="../../theory/intro.html">Introduction</a></li><li><a href="../../theory/kinematics.html">State variables and kinematics</a></li><li><a href="../../theory/thermodynamics.html">Thermodynamics</a></li><li><a href="../../theory/minimization.html">The minimization problem</a></li><li><a href="../../theory/constitutive_models.html">Constitutive Models</a></li></ul><ul class="dropdown-content" id="7c2e9500-106a-446d-a916-9a80b5912ea7"><li><a href="../../modules/index.html">Physics modules</a></li><li><a href="../../syntax/index.html">Complete syntax</a></li><li><a href="../../syntax/raccoon.html">RACCOON syntax</a></li><li><a href="../../syntax/solid_mechanics.html">Solid mechanics syntax</a></li><li><a href="../../syntax/phase_field.html">Phase field syntax</a></li><li><a href="../../syntax/heat_transfer.html">Heat conduction syntax</a></li></ul></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="gcse-search"></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="moose-content col s12 m12 l12"><section id="7cb5a133-5b70-47d2-822d-9b61e1e36945" data-section-level="1" data-section-text="ReferenceResidualProblem"><h1 id="referenceresidualproblem">ReferenceResidualProblem</h1><p>Problem that checks for convergence relative to a user-supplied reference quantity rather than the initial residual</p><section id="56f5e1b4-7f4e-47ab-992e-a86e1cb78967" data-section-level="2" data-section-text="Description"><h2 id="description">Description</h2><p>By default, MOOSE checks convergence using relative and absolute criteria. Once the residual drops below either an absolute tolerance, or the residual divided by the initial residual for the current time step drops below a relative tolerance, the solution is considered converged. This works well for many problems, but there are some scenarios that are problematic for convergence:</p><ol class="browser-default" start="1"><li><p>There is a large scaling difference between the solution variables, so taking the <span class="moose-katex-inline-equation" id="moose-equation-eedcd57e-6301-430f-949c-6f1600e29ba5"><script>var element = document.getElementById("moose-equation-eedcd57e-6301-430f-949c-6f1600e29ba5");katex.render("L^2", element, {displayMode:false,throwOnError:false,macros:{"\\bs":"\\boldsymbol{#1}","\\normal":"\\bs{n}","\\grad":"\\bs{\\nabla}","\\divergence":"\\grad \\cdot","\\norm":"\\left\\lVert#1\\right\\rVert","\\abs":"\\left\\lvert#1\\right\\rvert","\\tr":"\\text{tr}","\\dev":"\\text{dev}","\\sym":"\\text{sym}","\\diff":"\\text{ d}#1","\\activepart":"{\\left< A \\right>}","\\inactivepart":"{\\left< I \\right>}","\\Gc":"{\\mathcal{G}_c}","\\strain":"\\bs{\\varepsilon}","\\stress":"\\bs{\\sigma}","\\macaulay":"\\left<#1\\right>","\\body":"\\Omega","\\bodyboundary":"{\\partial\\body}","\\ep":"{\\varepsilon^p}","\\ep0":"{\\varepsilon_0^p}","\\epdot":"{\\dot{\\varepsilon}}^p","\\epdot0":"{\\dot{\\varepsilon}}_0^p","\\bfa":"\\boldsymbol{a}","\\bfb":"\\boldsymbol{b}","\\bfc":"\\boldsymbol{c}","\\bfd":"\\boldsymbol{d}","\\bfe":"\\boldsymbol{e}","\\bff":"\\boldsymbol{f}","\\bfg":"\\boldsymbol{g}","\\bfh":"\\boldsymbol{h}","\\bfi":"\\boldsymbol{i}","\\bfj":"\\boldsymbol{j}","\\bfk":"\\boldsymbol{k}","\\bfl":"\\boldsymbol{l}","\\bfm":"\\boldsymbol{m}","\\bfn":"\\boldsymbol{n}","\\bfo":"\\boldsymbol{o}","\\bfp":"\\boldsymbol{p}","\\bfq":"\\boldsymbol{q}","\\bfr":"\\boldsymbol{r}","\\bfs":"\\boldsymbol{s}","\\bft":"\\boldsymbol{t}","\\bfu":"\\boldsymbol{u}","\\bfv":"\\boldsymbol{v}","\\bfw":"\\boldsymbol{w}","\\bfx":"\\boldsymbol{x}","\\bfy":"\\boldsymbol{y}","\\bfz":"\\boldsymbol{z}","\\bfA":"\\boldsymbol{A}","\\bfB":"\\boldsymbol{B}","\\bfC":"\\boldsymbol{C}","\\bfD":"\\boldsymbol{D}","\\bfE":"\\boldsymbol{E}","\\bfF":"\\boldsymbol{F}","\\bfG":"\\boldsymbol{G}","\\bfH":"\\boldsymbol{H}","\\bfI":"\\boldsymbol{I}","\\bfJ":"\\boldsymbol{J}","\\bfK":"\\boldsymbol{K}","\\bfL":"\\boldsymbol{L}","\\bfM":"\\boldsymbol{M}","\\bfN":"\\boldsymbol{N}","\\bfO":"\\boldsymbol{O}","\\bfP":"\\boldsymbol{P}","\\bfQ":"\\boldsymbol{Q}","\\bfR":"\\boldsymbol{R}","\\bfS":"\\boldsymbol{S}","\\bfT":"\\boldsymbol{T}","\\bfU":"\\boldsymbol{U}","\\bfV":"\\boldsymbol{V}","\\bfW":"\\boldsymbol{W}","\\bfX":"\\boldsymbol{X}","\\bfY":"\\boldsymbol{Y}","\\bfZ":"\\boldsymbol{Z}"}});</script></span> norm of the combined vector skews the convergence check so that it becomes increasingly dominated by the variable with larger absolute values in the residual vector as the scaling difference increases.</p><p></p></li><li><p>The model conditions have changed very little from the previous step, so the initial residual is very low because the solution is essentially converged before any nonlinear iterations have been performed. The standard convergence check that uses the initial residual as a reference quantity eventually fails after a few steps because the solution is forced to converge to tighter limits with each time step, until numerical roundoff error prevents the solution from converging more tightly.</p><p></p></li><li><p>The state of the problem is such that the values of the residual at all degrees of freedom where Dirichlet boundary conditions are applied are zero in the converged solution. An example of this is a mechanics model that has Dirichlet boundary conditions to prevent rigid body motion, but the model only experiences free thermal expansion, so there are no reaction loads at those points. Another example is if there is a time step when no loading is applied.</p></li></ol><p><code>ReferenceResidualProblem</code> checks for convergence by comparing the residual to a different reference quantity (instead of the initial residual). The user specifies a reference vector that can be used in a relative convergence check. Because the solution variables can have significantly different scaling, the convergence check performed in <code>ReferenceResidualProblem</code> checks convergence of the solution variables individually. When the <span class="moose-katex-inline-equation" id="moose-equation-2f449bb5-850f-4841-8309-b7d3a2294401"><script>var element = document.getElementById("moose-equation-2f449bb5-850f-4841-8309-b7d3a2294401");katex.render("L^2", element, {displayMode:false,throwOnError:false,macros:{"\\bs":"\\boldsymbol{#1}","\\normal":"\\bs{n}","\\grad":"\\bs{\\nabla}","\\divergence":"\\grad \\cdot","\\norm":"\\left\\lVert#1\\right\\rVert","\\abs":"\\left\\lvert#1\\right\\rvert","\\tr":"\\text{tr}","\\dev":"\\text{dev}","\\sym":"\\text{sym}","\\diff":"\\text{ d}#1","\\activepart":"{\\left< A \\right>}","\\inactivepart":"{\\left< I \\right>}","\\Gc":"{\\mathcal{G}_c}","\\strain":"\\bs{\\varepsilon}","\\stress":"\\bs{\\sigma}","\\macaulay":"\\left<#1\\right>","\\body":"\\Omega","\\bodyboundary":"{\\partial\\body}","\\ep":"{\\varepsilon^p}","\\ep0":"{\\varepsilon_0^p}","\\epdot":"{\\dot{\\varepsilon}}^p","\\epdot0":"{\\dot{\\varepsilon}}_0^p","\\bfa":"\\boldsymbol{a}","\\bfb":"\\boldsymbol{b}","\\bfc":"\\boldsymbol{c}","\\bfd":"\\boldsymbol{d}","\\bfe":"\\boldsymbol{e}","\\bff":"\\boldsymbol{f}","\\bfg":"\\boldsymbol{g}","\\bfh":"\\boldsymbol{h}","\\bfi":"\\boldsymbol{i}","\\bfj":"\\boldsymbol{j}","\\bfk":"\\boldsymbol{k}","\\bfl":"\\boldsymbol{l}","\\bfm":"\\boldsymbol{m}","\\bfn":"\\boldsymbol{n}","\\bfo":"\\boldsymbol{o}","\\bfp":"\\boldsymbol{p}","\\bfq":"\\boldsymbol{q}","\\bfr":"\\boldsymbol{r}","\\bfs":"\\boldsymbol{s}","\\bft":"\\boldsymbol{t}","\\bfu":"\\boldsymbol{u}","\\bfv":"\\boldsymbol{v}","\\bfw":"\\boldsymbol{w}","\\bfx":"\\boldsymbol{x}","\\bfy":"\\boldsymbol{y}","\\bfz":"\\boldsymbol{z}","\\bfA":"\\boldsymbol{A}","\\bfB":"\\boldsymbol{B}","\\bfC":"\\boldsymbol{C}","\\bfD":"\\boldsymbol{D}","\\bfE":"\\boldsymbol{E}","\\bfF":"\\boldsymbol{F}","\\bfG":"\\boldsymbol{G}","\\bfH":"\\boldsymbol{H}","\\bfI":"\\boldsymbol{I}","\\bfJ":"\\boldsymbol{J}","\\bfK":"\\boldsymbol{K}","\\bfL":"\\boldsymbol{L}","\\bfM":"\\boldsymbol{M}","\\bfN":"\\boldsymbol{N}","\\bfO":"\\boldsymbol{O}","\\bfP":"\\boldsymbol{P}","\\bfQ":"\\boldsymbol{Q}","\\bfR":"\\boldsymbol{R}","\\bfS":"\\boldsymbol{S}","\\bfT":"\\boldsymbol{T}","\\bfU":"\\boldsymbol{U}","\\bfV":"\\boldsymbol{V}","\\bfW":"\\boldsymbol{W}","\\bfX":"\\boldsymbol{X}","\\bfY":"\\boldsymbol{Y}","\\bfZ":"\\boldsymbol{Z}"}});</script></span> norm of the residual for each solution variable is less than either the relative tolerance times the <span class="moose-katex-inline-equation" id="moose-equation-cee7f768-a54c-4cbb-877d-98521ad6c1c5"><script>var element = document.getElementById("moose-equation-cee7f768-a54c-4cbb-877d-98521ad6c1c5");katex.render("L^2", element, {displayMode:false,throwOnError:false,macros:{"\\bs":"\\boldsymbol{#1}","\\normal":"\\bs{n}","\\grad":"\\bs{\\nabla}","\\divergence":"\\grad \\cdot","\\norm":"\\left\\lVert#1\\right\\rVert","\\abs":"\\left\\lvert#1\\right\\rvert","\\tr":"\\text{tr}","\\dev":"\\text{dev}","\\sym":"\\text{sym}","\\diff":"\\text{ d}#1","\\activepart":"{\\left< A \\right>}","\\inactivepart":"{\\left< I \\right>}","\\Gc":"{\\mathcal{G}_c}","\\strain":"\\bs{\\varepsilon}","\\stress":"\\bs{\\sigma}","\\macaulay":"\\left<#1\\right>","\\body":"\\Omega","\\bodyboundary":"{\\partial\\body}","\\ep":"{\\varepsilon^p}","\\ep0":"{\\varepsilon_0^p}","\\epdot":"{\\dot{\\varepsilon}}^p","\\epdot0":"{\\dot{\\varepsilon}}_0^p","\\bfa":"\\boldsymbol{a}","\\bfb":"\\boldsymbol{b}","\\bfc":"\\boldsymbol{c}","\\bfd":"\\boldsymbol{d}","\\bfe":"\\boldsymbol{e}","\\bff":"\\boldsymbol{f}","\\bfg":"\\boldsymbol{g}","\\bfh":"\\boldsymbol{h}","\\bfi":"\\boldsymbol{i}","\\bfj":"\\boldsymbol{j}","\\bfk":"\\boldsymbol{k}","\\bfl":"\\boldsymbol{l}","\\bfm":"\\boldsymbol{m}","\\bfn":"\\boldsymbol{n}","\\bfo":"\\boldsymbol{o}","\\bfp":"\\boldsymbol{p}","\\bfq":"\\boldsymbol{q}","\\bfr":"\\boldsymbol{r}","\\bfs":"\\boldsymbol{s}","\\bft":"\\boldsymbol{t}","\\bfu":"\\boldsymbol{u}","\\bfv":"\\boldsymbol{v}","\\bfw":"\\boldsymbol{w}","\\bfx":"\\boldsymbol{x}","\\bfy":"\\boldsymbol{y}","\\bfz":"\\boldsymbol{z}","\\bfA":"\\boldsymbol{A}","\\bfB":"\\boldsymbol{B}","\\bfC":"\\boldsymbol{C}","\\bfD":"\\boldsymbol{D}","\\bfE":"\\boldsymbol{E}","\\bfF":"\\boldsymbol{F}","\\bfG":"\\boldsymbol{G}","\\bfH":"\\boldsymbol{H}","\\bfI":"\\boldsymbol{I}","\\bfJ":"\\boldsymbol{J}","\\bfK":"\\boldsymbol{K}","\\bfL":"\\boldsymbol{L}","\\bfM":"\\boldsymbol{M}","\\bfN":"\\boldsymbol{N}","\\bfO":"\\boldsymbol{O}","\\bfP":"\\boldsymbol{P}","\\bfQ":"\\boldsymbol{Q}","\\bfR":"\\boldsymbol{R}","\\bfS":"\\boldsymbol{S}","\\bfT":"\\boldsymbol{T}","\\bfU":"\\boldsymbol{U}","\\bfV":"\\boldsymbol{V}","\\bfW":"\\boldsymbol{W}","\\bfX":"\\boldsymbol{X}","\\bfY":"\\boldsymbol{Y}","\\bfZ":"\\boldsymbol{Z}"}});</script></span> norm of the corresponding reference variable or the absolute tolerance, the solution is considered converged.</p><p>By checking the convergence of individual variables and comparing to reference quantities that are meaningful even when the solution is not changing, <code>ReferenceResidualProblem</code> addresses the first two issues listed above. The third issue is potentially more of a problem with <code>ReferenceResidualProblem</code> than the standard MOOSE convergence check, and dealing with it is discussed in <a href="ReferenceResidualProblem.html#zero_resid">Dealing with Residuals that are Zero at Boundaries</a>.</p><p>Use of this procedure requires that the user provide physically meaningful reference quantities. The vector of the reaction loads (in the case of mechanics) or integrated fluxes (in the case of diffusion problems) is typically suitable for this purpose, as it provides a measure of the loading applied to the system. To make these reference quantities, simply add the <a href="#cabadba1-62e5-407d-9e49-171b5a5c2b75" class="moose-modal-link modal-trigger">&quot;extra_vector_tags&quot;</a> parameter to the computing objects that you want to add into the reference vector. An explicit example is given in <a href="ReferenceResidualProblem.html#example">Example Input Syntax</a> below. Alternatively, the <a href="#e242af0a-9451-442d-b3ae-9ac698dbf095" class="moose-modal-link modal-trigger">&quot;absolute_value_vector_tags&quot;</a>` parameter can be used in the kernels to assemble the absolute value of the contribution to each degree of freedom affected by the kernel.</p><p>Since relative convergence is computed differently with this approach, the nonlinear relative tolerance required to achieve the same error is typically different than with the default approach in MOOSE, and the differences will vary by the problem. The code user must evaluate the behavior of their model to ensure that appropriate tolerances are being used.</p><section id="e241dfdc-d599-4371-838c-e5bf270ad1ff" data-section-level="3" data-section-text="Dealing with Residuals that are Zero at Boundaries"><h3 id="zero_resid">Dealing with Residuals that are Zero at Boundaries</h3><p>As mentioned in the third case above where relative convergence checks can fail, the converged solutions for some problems are zero on all boundaries with Dirichlet boundary condition (BC) because of the nature of the loading conditions. This would make the <code>ReferenceResidualProblem</code> convergence checks fail because the norm of the reference vector would be zero in this case.  This is manifested when the reference values decrease at the same rate as the residuals, so relative convergence is never achieved.</p><p>In some mechanics problems, such as those with symmetry planes, this might happen only in one direction. This situation can be remedied by grouping together the residuals for all components of the displacement variables rather than checking them individually. If the reference vector for one of the variables in the group is zero (because there are no Dirichlet BCs that restrict the solution in that direction), but it is nonzero for the others, the residual for the set of variables will be checked together, and the variable with a zero value will not prevent convergence as it normally would.  Grouping variables is accomplished by using the <code>group_variables</code> option, which is used to provide one or more lists of names of variables to group together.</p><p>In some cases, however, there may be no degrees of freedom with nonzero residuals at Dirichlet BCs for even a group of variables.  This could happen in mechanics problems that only have free expansion, in which the Dirichlet BCs are important for preventing rigid body motion, but do not restrain the deformation of the body. This could also happen if there is simply no loading on a model during a time step.</p><p>It is necessary in such cases to also specify an absolute tolerance using <code>nl_abs_tol</code>, which is a problem-specific value that must be higher than the residual below which the solution can no longer converge tighter due to numeric roundoff errors, but sufficiently low to ensure that the solution is converged when that limit is reached.</p><p>Alternatively, the <a href="#5f83543f-75b1-4363-a757-0a5a901bf81b" class="moose-modal-link modal-trigger">&quot;absolute_value_vector_tags&quot;</a> parameter can be used in the kernels or the action that sets them up. This option does not rely on the use of Dirichlet BCs to compute a meaningful reference vector, and can typically remedy this issue.</p></section></section><section id="6c9e6fac-1740-4160-9cd9-3c9cc448f1fb" data-section-level="2" data-section-text="Example Input Syntax"><h2 id="example">Example Input Syntax</h2><pre style="max-height:350px;"><code class="language-moose">[Problem&lt;&lt;&lt;{&quot;href&quot;: &quot;../../syntax/Problem/index.html&quot;}&gt;&gt;&gt;]
  type = ReferenceResidualProblem
  extra_tag_vectors = &#x27;ref&#x27;
  reference_vector = &#x27;ref&#x27;
[]</code></pre><a class="moose-source-filename tooltipped modal-trigger" href="#94862c26-9f3a-486f-902d-0afffc78aa16">(moose/test/tests/problems/reference_residual_problem/reference_residual.i)</a><p>where the <a href="#a5d98778-a632-4874-99f3-7b8d57a4a378" class="moose-modal-link modal-trigger">&quot;extra_tag_vectors&quot;</a> parameter indicates the additional vectors that should be added to the nonlinear system. This parameter must contain the name of the reference vector, which is defined in the <a href="#89e3a630-e102-41bb-a9f9-23a44cad27a1" class="moose-modal-link modal-trigger">&quot;reference_vector&quot;</a> parameter. In this example we only create one extra vector, the <code>ref</code> vector, that will be used for holding the reference residuals. To have computing objects add into the reference vector, simply specify the name of that reference vector with the <a href="#ed1661e6-73b7-4c64-ae44-44cac261e277" class="moose-modal-link modal-trigger">&quot;extra_vector_tags&quot;</a> parameter as illustrated below:</p><pre style="max-height:350px;"><code class="language-moose">[BCs&lt;&lt;&lt;{&quot;href&quot;: &quot;../../syntax/BCs/index.html&quot;}&gt;&gt;&gt;]
  [u]
    type = RobinBC
    boundary = &#x27;left right&#x27;
    coef = ${coef}
    variable = u
    extra_vector_tags = &#x27;ref&#x27;
  []
  [v]
    type = RobinBC
    boundary = &#x27;left right&#x27;
    coef = 1
    variable = v
    extra_vector_tags = &#x27;ref&#x27;
  []
[]</code></pre><a class="moose-source-filename tooltipped modal-trigger" href="#7e98a0e7-89ae-43a1-a485-5a08c45a321e">(moose/test/tests/problems/reference_residual_problem/reference_residual.i)</a><p>In this example we are using the integrated fluxes as the reference quantities that we will compare the individual variable residuals to.</p><section id="b7dacbb5-0c81-44ae-b9e7-3ddae8d9b46b" data-section-level="3" data-section-text="Grouping Variables"><h3 id="grouping-variables">Grouping Variables</h3><pre style="max-height:350px;"><code class="language-moose">[Problem&lt;&lt;&lt;{&quot;href&quot;: &quot;../../syntax/Problem/index.html&quot;}&gt;&gt;&gt;]
  type = ReferenceResidualProblem
  extra_tag_vectors = &#x27;ref&#x27;
  reference_vector = &#x27;ref&#x27;
  group_variables = &#x27;disp_x disp_y;
                     scalar_strain_zz1 scalar_strain_zz2&#x27;
[]</code></pre><a class="moose-source-filename tooltipped modal-trigger" href="#15ff13a6-3a45-4cf9-85e8-dbfcbd539068">(moose/modules/combined/test/tests/reference_residual/group_variables.i)</a><p>Multiple groupings of variables can be provided in <code>group_variables</code> by separating them by  semicolon. Convergence for those variables that are not given in <code>group_variables</code> is checked individually. A given variable can only be included in one group.</p></section></section><section id="345039e2-8cf5-4d84-8ae9-fa1398d8c45e" data-section-level="2" data-section-text="Input Parameters"><h2 id="input-parameters">Input Parameters</h2><section id="d10f7113-c5cb-46fb-8ef3-c0fe0bf7b695" data-section-level="3" data-section-text="Optional Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">block</span><span class="moose-parameter-header-default">ANY_BLOCK_ID </span><span class="moose-parameter-header-description">List of subdomains for kernel coverage and material coverage checks. Setting this parameter is equivalent to setting 'kernel_coverage_block_list' and 'material_coverage_block_list' as well as using 'ONLY_LIST' as the coverage check mode.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>ANY_BLOCK_ID </p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;SubdomainName&gt;</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>List of subdomains for kernel coverage and material coverage checks. Setting this parameter is equivalent to setting 'kernel_coverage_block_list' and 'material_coverage_block_list' as well as using 'ONLY_LIST' as the coverage check mode.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">converge_on</span><span class="moose-parameter-header-description">If supplied, use only these variables in the individual variable convergence check</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;NonlinearVariableName&gt;</p><p class="moose-parameter-description-doc-unit"><span>Unit:</span>(no unit assumed)</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>If supplied, use only these variables in the individual variable convergence check</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">linear_sys_names</span><span class="moose-parameter-header-description">The linear system names</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;LinearSystemName&gt;</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>The linear system names</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">normalization_type</span><span class="moose-parameter-header-default">global_L2</span><span class="moose-parameter-header-description">The normalization type used to compare the reference and actual residuals.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>global_L2</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>global_L2, local_L2, global_Linf, local_Linf</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>The normalization type used to compare the reference and actual residuals.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">regard_general_exceptions_as_errors</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">If we catch an exception during residual/Jacobian evaluaton for which we don't have specific handling, immediately error instead of allowing the time step to be cut</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>If we catch an exception during residual/Jacobian evaluaton for which we don't have specific handling, immediately error instead of allowing the time step to be cut</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">solve</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Whether or not to actually solve the Nonlinear system.  This is handy in the case that all you want to do is execute AuxKernels, Transfers, etc. without actually solving anything</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>Yes</p><p class="moose-parameter-description"><span>Description:</span>Whether or not to actually solve the Nonlinear system.  This is handy in the case that all you want to do is execute AuxKernels, Transfers, etc. without actually solving anything</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">zero_reference_residual_treatment</span><span class="moose-parameter-header-default">relative_tolerance</span><span class="moose-parameter-header-description">Determine behavior if a reference residual value of zero is present for a particular variable.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>relative_tolerance</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>zero_tolerance, relative_tolerance</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Determine behavior if a reference residual value of zero is present for a particular variable.</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Optional Parameters</h3></summary></details></section><section id="e139cf21-204f-495a-981d-0ee06ceb7625" data-section-level="3" data-section-text="Acceptable Convergence Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">acceptable_iterations</span><span class="moose-parameter-header-default">0</span><span class="moose-parameter-header-description">Iterations after which convergence to acceptable limits is accepted</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Iterations after which convergence to acceptable limits is accepted</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">acceptable_multiplier</span><span class="moose-parameter-header-default">1</span><span class="moose-parameter-header-description">Multiplier applied to relative tolerance for acceptable limit</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>1</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-doc-unit"><span>Unit:</span>(no unit assumed)</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Multiplier applied to relative tolerance for acceptable limit</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Acceptable Convergence Parameters</h3></summary></details></section><section id="d0d986a4-3d8e-4ac0-851b-8949e889e1c3" data-section-level="3" data-section-text="Restart Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">allow_initial_conditions_with_restart</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">True to allow the user to specify initial conditions when restarting. Initial conditions can override any restarted field</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>True to allow the user to specify initial conditions when restarting. Initial conditions can override any restarted field</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">force_restart</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">EXPERIMENTAL: If true, a sub_app may use a restart file instead of using of using the master backup file</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>EXPERIMENTAL: If true, a sub_app may use a restart file instead of using of using the master backup file</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">restart_file_base</span><span class="moose-parameter-header-description">File base name used for restart (e.g. <path>/<filebase> or <path>/LATEST to grab the latest file available)</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>FileNameNoExtension</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>File base name used for restart (e.g. <path>/<filebase> or <path>/LATEST to grab the latest file available)</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Restart Parameters</h3></summary></details></section><section id="f2baf281-6646-4f98-9c2f-ba42c95a318f" data-section-level="3" data-section-text="Solution Validity Control Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">allow_invalid_solution</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Set to true to allow convergence even though the solution has been marked as 'invalid'</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Set to true to allow convergence even though the solution has been marked as 'invalid'</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">immediately_print_invalid_solution</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Whether or not to report invalid solution warnings at the time the warning is produced instead of after the calculation</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Whether or not to report invalid solution warnings at the time the warning is produced instead of after the calculation</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">show_invalid_solution_console</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Set to true to show the invalid solution occurance summary in console</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Set to true to show the invalid solution occurance summary in console</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Solution Validity Control Parameters</h3></summary></details></section><section id="f5fa203b-014d-4324-af9b-45d5bfbcee8a" data-section-level="3" data-section-text="Simulation Checks Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">boundary_restricted_elem_integrity_check</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Set to false to disable checking of boundary restricted elemental object variable dependencies, e.g. are the variable dependencies defined on the selected boundaries?</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Set to false to disable checking of boundary restricted elemental object variable dependencies, e.g. are the variable dependencies defined on the selected boundaries?</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">boundary_restricted_node_integrity_check</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Set to false to disable checking of boundary restricted nodal object variable dependencies, e.g. are the variable dependencies defined on the selected boundaries?</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Set to false to disable checking of boundary restricted nodal object variable dependencies, e.g. are the variable dependencies defined on the selected boundaries?</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">check_uo_aux_state</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">True to turn on a check that no state presents during the evaluation of user objects and aux kernels</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>True to turn on a check that no state presents during the evaluation of user objects and aux kernels</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">error_on_jacobian_nonzero_reallocation</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">This causes PETSc to error if it had to reallocate memory in the Jacobian matrix due to not having enough nonzeros</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>This causes PETSc to error if it had to reallocate memory in the Jacobian matrix due to not having enough nonzeros</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">fv_bcs_integrity_check</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Set to false to disable checking of overlapping Dirichlet and Flux BCs and/or multiple DirichletBCs per sideset</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Set to false to disable checking of overlapping Dirichlet and Flux BCs and/or multiple DirichletBCs per sideset</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">kernel_coverage_block_list</span><span class="moose-parameter-header-description">List of subdomains for kernel coverage check. The meaning of this list is controlled by the parameter 'kernel_coverage_check' (whether this is the list of subdomains to be checked, not to be checked or not taken into account).</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;SubdomainName&gt;</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>List of subdomains for kernel coverage check. The meaning of this list is controlled by the parameter 'kernel_coverage_check' (whether this is the list of subdomains to be checked, not to be checked or not taken into account).</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">kernel_coverage_check</span><span class="moose-parameter-header-default">TRUE</span><span class="moose-parameter-header-description">Controls, if and how a kernel subdomain coverage check is performed. With 'TRUE' or 'ON' all subdomains are checked (the default). Setting 'FALSE' or 'OFF' will disable the check for all subdomains. To exclude a predefined set of subdomains 'SKIP_LIST' is to be used, while the subdomains to skip are to be defined in the parameter 'kernel_coverage_block_list'. To limit the check to a list of subdomains, 'ONLY_LIST' is to be used (again, using the parameter 'kernel_coverage_block_list').</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>TRUE</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>FALSE, TRUE, OFF, ON, SKIP_LIST, ONLY_LIST</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Controls, if and how a kernel subdomain coverage check is performed. With 'TRUE' or 'ON' all subdomains are checked (the default). Setting 'FALSE' or 'OFF' will disable the check for all subdomains. To exclude a predefined set of subdomains 'SKIP_LIST' is to be used, while the subdomains to skip are to be defined in the parameter 'kernel_coverage_block_list'. To limit the check to a list of subdomains, 'ONLY_LIST' is to be used (again, using the parameter 'kernel_coverage_block_list').</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">material_coverage_block_list</span><span class="moose-parameter-header-description">List of subdomains for material coverage check. The meaning of this list is controlled by the parameter 'material_coverage_check' (whether this is the list of subdomains to be checked, not to be checked or not taken into account).</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;SubdomainName&gt;</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>List of subdomains for material coverage check. The meaning of this list is controlled by the parameter 'material_coverage_check' (whether this is the list of subdomains to be checked, not to be checked or not taken into account).</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">material_coverage_check</span><span class="moose-parameter-header-default">TRUE</span><span class="moose-parameter-header-description">Controls, if and how a material subdomain coverage check is performed. With 'TRUE' or 'ON' all subdomains are checked (the default). Setting 'FALSE' or 'OFF' will disable the check for all subdomains. To exclude a predefined set of subdomains 'SKIP_LIST' is to be used, while the subdomains to skip are to be defined in the parameter 'material_coverage_block_list'. To limit the check to a list of subdomains, 'ONLY_LIST' is to be used (again, using the parameter 'material_coverage_block_list').</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>TRUE</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>FALSE, TRUE, OFF, ON, SKIP_LIST, ONLY_LIST</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Controls, if and how a material subdomain coverage check is performed. With 'TRUE' or 'ON' all subdomains are checked (the default). Setting 'FALSE' or 'OFF' will disable the check for all subdomains. To exclude a predefined set of subdomains 'SKIP_LIST' is to be used, while the subdomains to skip are to be defined in the parameter 'material_coverage_block_list'. To limit the check to a list of subdomains, 'ONLY_LIST' is to be used (again, using the parameter 'material_coverage_block_list').</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">material_dependency_check</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Set to false to disable material dependency check</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Set to false to disable material dependency check</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">skip_nl_system_check</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">True to skip the NonlinearSystem check for work to do (e.g. Make sure that there are variables to solve for).</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>True to skip the NonlinearSystem check for work to do (e.g. Make sure that there are variables to solve for).</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Simulation Checks Parameters</h3></summary></details></section><section id="a1d59a6b-490e-488f-adb8-4076666756d1" data-section-level="3" data-section-text="Advanced Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">control_tags</span><span class="moose-parameter-header-description">Adds user-defined labels for accessing object parameters via control logic.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;std::string&gt;</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Adds user-defined labels for accessing object parameters via control logic.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">default_ghosting</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Whether or not to use libMesh's default amount of algebraic and geometric ghosting</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Whether or not to use libMesh's default amount of algebraic and geometric ghosting</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">enable</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Set the enabled status of the MooseObject.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Set the enabled status of the MooseObject.</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Advanced Parameters</h3></summary></details></section><section id="acbab1c9-3c85-4e4d-b9bd-f304930c14be" data-section-level="3" data-section-text="Contribution To Tagged Field Data Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">extra_tag_matrices</span><span class="moose-parameter-header-description">Extra matrices to add to the system that can be filled by objects which compute residuals and Jacobians (Kernels, BCs, etc.) by setting tags on them. The outer index is for which nonlinear system the extra tag vectors should be added for</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;std::vector&lt;TagName&gt;&gt;</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Extra matrices to add to the system that can be filled by objects which compute residuals and Jacobians (Kernels, BCs, etc.) by setting tags on them. The outer index is for which nonlinear system the extra tag vectors should be added for</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">extra_tag_solutions</span><span class="moose-parameter-header-description">Extra solution vectors to add to the system that can be used by objects for coupling variable values stored in them.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;TagName&gt;</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Extra solution vectors to add to the system that can be used by objects for coupling variable values stored in them.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">extra_tag_vectors</span><span class="moose-parameter-header-description">Extra vectors to add to the system that can be filled by objects which compute residuals and Jacobians (Kernels, BCs, etc.) by setting tags on them. The outer index is for which nonlinear system the extra tag vectors should be added for</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;std::vector&lt;TagName&gt;&gt;</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Extra vectors to add to the system that can be filled by objects which compute residuals and Jacobians (Kernels, BCs, etc.) by setting tags on them. The outer index is for which nonlinear system the extra tag vectors should be added for</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">not_zeroed_tag_vectors</span><span class="moose-parameter-header-description">Extra vector tags which the sytem will not zero when other vector tags are zeroed. The outer index is for which nonlinear system the extra tag vectors should be added for</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;std::vector&lt;TagName&gt;&gt;</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Extra vector tags which the sytem will not zero when other vector tags are zeroed. The outer index is for which nonlinear system the extra tag vectors should be added for</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Contribution To Tagged Field Data Parameters</h3></summary></details></section><section id="7b610561-7109-4af8-bd15-e9d72c0e6af9" data-section-level="3" data-section-text="Variables To Check For Convergence Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">group_variables</span><span class="moose-parameter-header-description">Name of variables that are grouped together to check convergence. (Multiple groups can be provided, separated by semicolon)</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;std::vector&lt;NonlinearVariableName&gt;&gt;</p><p class="moose-parameter-description-doc-unit"><span>Unit:</span>(no unit assumed)</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Name of variables that are grouped together to check convergence. (Multiple groups can be provided, separated by semicolon)</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">solution_variables</span><span class="moose-parameter-header-description">Set of solution variables to be checked for relative convergence</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;NonlinearVariableName&gt;</p><p class="moose-parameter-description-doc-unit"><span>Unit:</span>(no unit assumed)</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Set of solution variables to be checked for relative convergence</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Variables To Check For Convergence Parameters</h3></summary></details></section><section id="1990a9d0-6232-43f3-99f1-edc66a877ddc" data-section-level="3" data-section-text="Nonlinear System(S) Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">identify_variable_groups_in_nl</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Whether to identify variable groups in nonlinear systems. This affects dof ordering</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Whether to identify variable groups in nonlinear systems. This affects dof ordering</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">ignore_zeros_in_jacobian</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Do not explicitly store zero values in the Jacobian matrix if true</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Do not explicitly store zero values in the Jacobian matrix if true</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">nl_sys_names</span><span class="moose-parameter-header-default">nl0 </span><span class="moose-parameter-header-description">The nonlinear system names</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>nl0 </p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;NonlinearSystemName&gt;</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>The nonlinear system names</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">previous_nl_solution_required</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">True to indicate that this calculation requires a solution vector for storing the previous nonlinear iteration.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>True to indicate that this calculation requires a solution vector for storing the previous nonlinear iteration.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">restore_original_nonzero_pattern</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Whether we should reset matrix memory for every Jacobian evaluation. This option is useful if the sparsity pattern is constantly changing and you are using hash table assembly or if you wish to continually restore the matrix to the originally preallocated sparsity pattern computed by relationship managers.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Whether we should reset matrix memory for every Jacobian evaluation. This option is useful if the sparsity pattern is constantly changing and you are using hash table assembly or if you wish to continually restore the matrix to the originally preallocated sparsity pattern computed by relationship managers.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">use_hash_table_matrix_assembly</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Whether to assemble matrices using hash tables instead of preallocating matrix memory. This can be a good option if the sparsity pattern changes throughout the course of the simulation.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Whether to assemble matrices using hash tables instead of preallocating matrix memory. This can be a good option if the sparsity pattern changes throughout the course of the simulation.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">use_nonlinear</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Determines whether to use a Nonlinear vs a Eigenvalue system (Automatically determined based on executioner)</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Determines whether to use a Nonlinear vs a Eigenvalue system (Automatically determined based on executioner)</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Nonlinear System(S) Parameters</h3></summary></details></section><section id="49d01d86-e803-42d6-8c59-6d5f28e1bb3b" data-section-level="3" data-section-text="Null Space Removal Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">near_null_space_dimension</span><span class="moose-parameter-header-default">0</span><span class="moose-parameter-header-description">The dimension of the near nullspace</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>The dimension of the near nullspace</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">null_space_dimension</span><span class="moose-parameter-header-default">0</span><span class="moose-parameter-header-description">The dimension of the nullspace</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>The dimension of the nullspace</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">transpose_null_space_dimension</span><span class="moose-parameter-header-default">0</span><span class="moose-parameter-header-description">The dimension of the transpose nullspace</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>The dimension of the transpose nullspace</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Null Space Removal Parameters</h3></summary></details></section><section id="c41d3f77-332a-40c6-a4cf-5e7ba5e182af" data-section-level="3" data-section-text="Verbosity Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">parallel_barrier_messaging</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Displays messaging from parallel barrier notifications when executing or transferring to/from Multiapps (default: false)</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Displays messaging from parallel barrier notifications when executing or transferring to/from Multiapps (default: false)</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">verbose_multiapps</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Set to True to enable verbose screen printing related to MultiApps</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Set to True to enable verbose screen printing related to MultiApps</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">verbose_restore</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Set to True to enable verbose screen printing related to solution restoration</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Set to True to enable verbose screen printing related to solution restoration</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">verbose_setup</span><span class="moose-parameter-header-default">false</span><span class="moose-parameter-header-description">Set to 'true' to have the problem report on any object created. Set to 'extra' to also display all parameters.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>false</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>false, true, extra</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Set to 'true' to have the problem report on any object created. Set to 'extra' to also display all parameters.</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Verbosity Parameters</h3></summary></details></section><section id="153127a2-1103-4a7c-8938-d366f32b36a3" data-section-level="3" data-section-text="Reference Residual Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">reference_residual_variables</span><span class="moose-parameter-header-description">Set of variables that provide reference residuals for relative convergence check</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;AuxVariableName&gt;</p><p class="moose-parameter-description-doc-unit"><span>Unit:</span>(no unit assumed)</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Set of variables that provide reference residuals for relative convergence check</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">reference_vector</span><span class="moose-parameter-header-description">The tag name of the reference residual vector.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>TagName</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>The tag name of the reference residual vector.</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Reference Residual Parameters</h3></summary></details></section></section></section><div class="moose-modal modal" id="cabadba1-62e5-407d-9e49-171b5a5c2b75"><div class="modal-content"><h4>extra_vector_tags</h4><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;TagName&gt;</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>The extra tags for the vectors this Kernel should fill</p></div></div><div class="moose-modal modal" id="e242af0a-9451-442d-b3ae-9ac698dbf095"><div class="modal-content"><h4>absolute_value_vector_tags</h4><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;TagName&gt;</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>The tags for the vectors this residual object should fill with the absolute value of the residual contribution</p></div></div><div class="moose-modal modal" id="5f83543f-75b1-4363-a757-0a5a901bf81b"><div class="modal-content"><h4>absolute_value_vector_tags</h4><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;TagName&gt;</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>The tags for the vectors this residual object should fill with the absolute value of the residual contribution</p></div></div><div class="moose-modal modal" id="94862c26-9f3a-486f-902d-0afffc78aa16"><div class="modal-content"><h4>(moose/test/tests/problems/reference_residual_problem/reference_residual.i)</h4><pre style="max-height:350px;"><code class="language-moose">coef=1

[Mesh]
  type = GeneratedMesh
  dim = 1
  nx = 2
[]

[Problem]
  type = ReferenceResidualProblem
  extra_tag_vectors = &#x27;ref&#x27;
  reference_vector = &#x27;ref&#x27;
[]

[Variables]
  [u][]
  [v][]
[]

[Kernels]
  [u_diff]
    type = CoefDiffusion
    variable = u
    coef = ${coef}
  []
  [u_rxn]
    type = PReaction
    variable = u
    coefficient = ${coef}
    power = 2
  []
  [u_f]
    type = BodyForce
    variable = u
    value = ${coef}
  []
  [v_diff]
    type = Diffusion
    variable = v
  []
  [v_rxn]
    type = PReaction
    variable = v
    coefficient = 1
    power = 2
  []
  [v_f]
    type = BodyForce
    variable = v
    value = 1
  []
[]

[BCs]
  [u]
    type = RobinBC
    boundary = &#x27;left right&#x27;
    coef = ${coef}
    variable = u
    extra_vector_tags = &#x27;ref&#x27;
  []
  [v]
    type = RobinBC
    boundary = &#x27;left right&#x27;
    coef = 1
    variable = v
    extra_vector_tags = &#x27;ref&#x27;
  []
[]


[Executioner]
  type = Steady
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="moose-modal modal" id="a5d98778-a632-4874-99f3-7b8d57a4a378"><div class="modal-content"><h4>extra_tag_vectors</h4><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;std::vector&lt;TagName&gt;&gt;</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>Extra vectors to add to the system that can be filled by objects which compute residuals and Jacobians (Kernels, BCs, etc.) by setting tags on them. The outer index is for which nonlinear system the extra tag vectors should be added for</p></div></div><div class="moose-modal modal" id="89e3a630-e102-41bb-a9f9-23a44cad27a1"><div class="modal-content"><h4>reference_vector</h4><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>TagName</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>The tag name of the reference residual vector.</p></div></div><div class="moose-modal modal" id="ed1661e6-73b7-4c64-ae44-44cac261e277"><div class="modal-content"><h4>extra_vector_tags</h4><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;TagName&gt;</p><p class="moose-parameter-description-controllable"><span>Controllable:</span>No</p><p class="moose-parameter-description"><span>Description:</span>The extra tags for the vectors this Kernel should fill</p></div></div><div class="moose-modal modal" id="7e98a0e7-89ae-43a1-a485-5a08c45a321e"><div class="modal-content"><h4>(moose/test/tests/problems/reference_residual_problem/reference_residual.i)</h4><pre style="max-height:350px;"><code class="language-moose">coef=1

[Mesh]
  type = GeneratedMesh
  dim = 1
  nx = 2
[]

[Problem]
  type = ReferenceResidualProblem
  extra_tag_vectors = &#x27;ref&#x27;
  reference_vector = &#x27;ref&#x27;
[]

[Variables]
  [u][]
  [v][]
[]

[Kernels]
  [u_diff]
    type = CoefDiffusion
    variable = u
    coef = ${coef}
  []
  [u_rxn]
    type = PReaction
    variable = u
    coefficient = ${coef}
    power = 2
  []
  [u_f]
    type = BodyForce
    variable = u
    value = ${coef}
  []
  [v_diff]
    type = Diffusion
    variable = v
  []
  [v_rxn]
    type = PReaction
    variable = v
    coefficient = 1
    power = 2
  []
  [v_f]
    type = BodyForce
    variable = v
    value = 1
  []
[]

[BCs]
  [u]
    type = RobinBC
    boundary = &#x27;left right&#x27;
    coef = ${coef}
    variable = u
    extra_vector_tags = &#x27;ref&#x27;
  []
  [v]
    type = RobinBC
    boundary = &#x27;left right&#x27;
    coef = 1
    variable = v
    extra_vector_tags = &#x27;ref&#x27;
  []
[]


[Executioner]
  type = Steady
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><div class="moose-modal modal" id="15ff13a6-3a45-4cf9-85e8-dbfcbd539068"><div class="modal-content"><h4>(moose/modules/combined/test/tests/reference_residual/group_variables.i)</h4><pre style="max-height:350px;"><code class="language-moose">[Mesh]
  file = 2squares.e
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Problem]
  type = ReferenceResidualProblem
  extra_tag_vectors = &#x27;ref&#x27;
  reference_vector = &#x27;ref&#x27;
  group_variables = &#x27;disp_x disp_y;
                     scalar_strain_zz1 scalar_strain_zz2&#x27;
[]

[Variables]
  [./disp_x]
  [../]
  [./disp_y]
  [../]

  [./scalar_strain_zz1]
    order = FIRST
    family = SCALAR
  [../]
  [./scalar_strain_zz2]
    order = FIRST
    family = SCALAR
  [../]
[]

[AuxVariables]
  [./temp]
    order = FIRST
    family = LAGRANGE
  [../]
  [./saved_x]
    order = FIRST
    family = LAGRANGE
  [../]
  [./saved_y]
    order = FIRST
    family = LAGRANGE
  [../]

  [./stress_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_xy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./stress_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]

  [./strain_xx]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./strain_xy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./strain_yy]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./aux_strain_zz]
    order = CONSTANT
    family = MONOMIAL
  [../]
  [./saved_scalar_strain_zz1]
    order = FIRST
    family = SCALAR
  [../]
  [./saved_scalar_strain_zz2]
    order = FIRST
    family = SCALAR
  [../]
[]

[Postprocessors]
  [./react_z1]
    type = MaterialTensorIntegral
    rank_two_tensor = stress
    index_i = 2
    index_j = 2
    block = 1
  [../]
  [./react_z2]
    type = MaterialTensorIntegral
    rank_two_tensor = stress
    index_i = 2
    index_j = 2
    block = 2
  [../]
[]

[Physics]
  [./SolidMechanics]
    [./GeneralizedPlaneStrain]
      [./gps1]
        use_displaced_mesh = true
        displacements = &#x27;disp_x disp_y&#x27;
        scalar_out_of_plane_strain = scalar_strain_zz1
        block = &#x27;1&#x27;
      [../]
      [./gps2]
        use_displaced_mesh = true
        displacements = &#x27;disp_x disp_y&#x27;
        scalar_out_of_plane_strain = scalar_strain_zz2
        block = &#x27;2&#x27;
      [../]
    [../]
  [../]
[]

[Kernels]
  [./TensorMechanics]
    use_displaced_mesh = false
    displacements = &#x27;disp_x disp_y&#x27;
    temperature = temp
    save_in = &#x27;saved_x saved_y&#x27;
    extra_vector_tags = &#x27;ref&#x27;
    block = &#x27;1 2&#x27;
  [../]
[]

[AuxKernels]
  [./tempfuncaux]
    type = FunctionAux
    variable = temp
    function = tempfunc
    use_displaced_mesh = false
  [../]
  [./stress_xx]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xx
    index_i = 0
    index_j = 0
  [../]
  [./stress_xy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_xy
    index_i = 0
    index_j = 1
  [../]
  [./stress_yy]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_yy
    index_i = 1
    index_j = 1
  [../]
  [./stress_zz]
    type = RankTwoAux
    rank_two_tensor = stress
    variable = stress_zz
    index_i = 2
    index_j = 2
  [../]

  [./strain_xx]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = strain_xx
    index_i = 0
    index_j = 0
  [../]
  [./strain_xy]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = strain_xy
    index_i = 0
    index_j = 1
  [../]
  [./strain_yy]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = strain_yy
    index_i = 1
    index_j = 1
  [../]
  [./aux_strain_zz]
    type = RankTwoAux
    rank_two_tensor = total_strain
    variable = aux_strain_zz
    index_i = 2
    index_j = 2
  [../]
[]

[AuxScalarKernels]
  [./saved_scalar_strain_zz1_ref_resid]
    type = GeneralizedPlaneStrainReferenceResidual
    variable = saved_scalar_strain_zz1
    generalized_plane_strain = gps1_GeneralizedPlaneStrainUserObject
  [../]
  [./saved_scalar_strain_zz2_ref_resid]
    type = GeneralizedPlaneStrainReferenceResidual
    variable = saved_scalar_strain_zz2
    generalized_plane_strain = gps2_GeneralizedPlaneStrainUserObject
  [../]
[]

[Functions]
  [./tempfunc]
    type = ParsedFunction
    expression = &#x27;(1-x)*t&#x27;
  [../]
[]

[BCs]
  [./bottom1x]
    type = DirichletBC
    boundary = 1
    variable = disp_x
    value = 0.0
  [../]
  [./bottom1y]
    type = DirichletBC
    boundary = 1
    variable = disp_y
    value = 0.0
  [../]
  [./bottom2x]
    type = DirichletBC
    boundary = 2
    variable = disp_x
    value = 0.0
  [../]
  [./bottom2y]
    type = DirichletBC
    boundary = 2
    variable = disp_y
    value = 0.0
  [../]
[]

[Materials]
  [./elastic_tensor]
    type = ComputeIsotropicElasticityTensor
    poissons_ratio = 0.3
    youngs_modulus = 1e6
    block = &#x27;1 2&#x27;
  [../]
  [./strain1]
    type = ComputePlaneSmallStrain
    displacements = &#x27;disp_x disp_y&#x27;
    scalar_out_of_plane_strain = scalar_strain_zz1
    block = 1
    eigenstrain_names = eigenstrain
  [../]
  [./strain2]
    type = ComputePlaneSmallStrain
    displacements = &#x27;disp_x disp_y&#x27;
    scalar_out_of_plane_strain = scalar_strain_zz2
    block = 2
    eigenstrain_names = eigenstrain
  [../]
  [./thermal_strain]
    type = ComputeThermalExpansionEigenstrain
    temperature = temp
    thermal_expansion_coeff = 0.02
    stress_free_temperature = 0.5
    block = &#x27;1 2&#x27;
    eigenstrain_name = eigenstrain
  [../]
  [./stress]
    type = ComputeLinearElasticStress
    block = &#x27;1 2&#x27;
  [../]
[]

[Executioner]
  type = Transient

  solve_type = PJFNK
  line_search = none

# controls for linear iterations
  l_max_its = 100
  l_tol = 1e-10

# controls for nonlinear iterations
  nl_max_its = 15
  nl_rel_tol = 1e-12
  nl_abs_tol = 1e-10

# time control
  start_time = 0.0
  dt = 1.0
  dtmin = 1.0
  end_time = 2.0
  num_steps = 5000
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div></div></div></div></main></div></body><script type="text/javascript" src="../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../js/init.js"></script><script type="text/javascript" src="../../js/navigation.js"></script><script type="text/javascript" src="https://cse.google.com/cse.js?cx=008852834041008754713:g3ilnhhbbj9"></script><script type="text/javascript" src="../../js/sqa_moose.js"></script><script type="text/javascript" src="../../js/moose_input_parser.js"></script>